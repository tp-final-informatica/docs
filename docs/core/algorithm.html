

<!DOCTYPE html>

<html lang="es">
<head>
    <meta name="robots" content="noindex">
    <meta charset="UTF-8">
    <title>El algoritmo empleado</title>
    <link rel="shortcut icon" href="/docs/images/favicon.png" type="image/png">
    <link rel="stylesheet" href="/docs/css/fonts.css">
    <link rel="stylesheet" href="/docs/css/colors.css">
    <link rel="stylesheet" href="/docs/css/layout.css">
    <link rel="stylesheet" href="/docs/css/styles.css">
    <link rel="stylesheet" href="/docs/css/solutions-style.css">

    <link rel="stylesheet" href="/docs/css/tooltip.css">
    <link rel="stylesheet" href="/docs/css/scroll-top.css">
    
</head>
<body>
<header class="header"><h1 class="mw-content">El algoritmo genético empleado</h1></header><nav><a  id="skip-nav" href="#main-content" class="skip-link">Saltear navegacion</a><div data-menu-component>  <input type="checkbox" role="button" aria-haspopup="true" id="toggle" class="vh">  <label for="toggle" data-opens-menu>    &#x2630; Índice    <span class="vh expanded-text">expandido</span>    <span class="vh collapsed-text">colapsado</span>  </label>  <div role="menu" data-menu-origin="left">    <ul><li><a role="menuitem" href="/docs/index.html">Carátula</a></li><li>El sistema</li><li><a role="menuitem" href="/docs/core.html">El core</a></li><li>La interfaz administrativa</li><li>Las aplicaciones mobile</li><li>El backend integrador</li><li>Información complementaria</li><li><a role="menuitem" href="/docs/literature.html">Bibliografía consultada</a></li>    </ul>  </div></div></nav>

<main id="main-content">
    <div class="content">
        <div class="mb3"><a href="/docs/core.html">< El core</a> </div>
        <p>El algoritmo genético consta de las siguientes partes</p>
        <ol>
            <li><a href="#chromosome">Definición de cromosoma</a></li>
            <li><a href="#first-gen">Armado de población inicial</a></li>
            <li><a href="#fitness">Definición de función de fitness</a></li>
            <li><a href="#parents">Selección de padres</a></li>
            <li><a href="#crossover">Crossover</a></li>
            <li><a href="#mutation">Mutación</a></li>
            <li><a href="#survivors">Selección de soluciones sobrevivientes</a></li>
            <li><a href="#end-criteria">Criterio de finalización</a></li>
        </ol>

        <p>La definición de cada uno de estos pasos afecta el resultado final del algoritmo. A continuación detallamos nuestras decisiones en cada paso.</p>

        <hr class="section-end"/>        
<h2 id="chromosome">Definición de cromosoma</h2>
<p>La definición del cromosoma a utilizar en el algoritmo genético no es trivial. Ella condiciona los pasos siguientes del algoritmo genético, en tanto los crossovers y mutaciones deben operar sobre este cromosoma.</p>
    <p>Nuestra elección fue plantear de forma natural cada camino como una secuencia de visitas numeradas, desde inicio al fin. Entonces, para un viajante que sale del punto 0 y vuelve al punto 0, visitando los puntos <span class="mono">[1,2,3]</span> el cromosoma planteado es:</p>

<div class="solution">
    <div class="flex"><div class="circle medium-turquoise"><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>0</p></div></div></div>


<p>Extendiendo el ejemplo anterior, para dos viajantes, que parten del punto 0, pero regresan uno al punto 0 y el otro al punto 1, y recorren los puntos <span class="mono">[2,3]</span> y <span class="mono">[4,5]</span> respectivamente, el cromosoma planteado es:</p>

    <div class="solution flex wrap gap3">
        <div class="flex wrap mt3 mb3 space">  <p></p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>0</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> 
    </div>

<p>
    Esta representación de las rutas tiene la menor redundancia de soluciones en comparación a otros métodos de armado de cromosomas, es decir, un cromosoma no puede interpretarse como más que una única secuencia de rutas.
    <span data-toggletip>Basado en el paper "Genetic Algorithm for solving multiple traveling salesmen problem using a new crossover and population generation" (ver sección Bibliografía).</span>
</p>



<hr class="section-end"/>
<h2 id="first-gen">Armado de población inicial</h2>    <p>Dada <span class="mono">N</span> la cantidad de viajantes, se distribuyen las visitas en <span class="mono">N</span> rutas de forma <b>aleatoria</b> y se asignan a cada solución. Esto garantiza un pool genético grande, pero no soluciones buenas.</p>
    <p>El único criterio para la formación de las soluciones es mantener balanceada la cantidad de visitas por ruta.</p>
<hr class="section-end"/><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<h2 id="fitness">Definición de función de fitness</h2>
    <p>La función de fitness es la guía mediante la cual el algoritmo itera, aprende, y llega a una solución con las
        características deseadas.</p>
    <p>Dado que nuestro programa debía devolver tres propuestas de rutas con criterios distintos, fue necesario proponer
        tres variantes de funciones de fitness distintas para cumplir con este requerimiento.</p>
    <p>Nuestra función de fitness base es la siguiente:</p>
    <div class="math" aria-label="La función de fitness equivale a una fracción en la que el numerador es una constante C y el denominador
    es el costo total recorrido multiplicado por la suma de todos los siguientes: el número uno, un parámetro relacionado a la
    prioridad de los viajantes, un parámetro relacionado a la validez de la solución y un parámetro relacionado
    al balanceo de las visitas entre las rutas.">
        <math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
            <mi>fitness</mi> <mo>=</mo>
            <mrow>
                <mfrac>
                    <mrow>
                        <mi>C</mi>
                    </mrow>
                    <mrow>
                        <mi>costo</mi><mo>*</mo><mo>(</mo><mn>1</mn><mo>+</mo><mi>costo por viajantes</mi><mo>+</mo><mi>costo por validez</mi><mo>+</mo><mi>costo por desbalanceo</mi><mo>)</mo>
                    </mrow>
                </mfrac>
            </mrow>
        </math>
    </div>
    <p>Al estar el costo en el denominador, <em>el fitness crece cuanto mejor es la solución, cuanto más chico es el costo</em>. Multiplicamos por una
        constante <span mono>C</span> para que el número no sea tan chico, pero esto no es necesario.</p>
    <p>Se ajustan los parámetros de la función según cualquiera de los siguientes tres casos:</p>
    <ol>
        <li>Todos los viajantes participan obligatoriamente, las rutas son balanceadas, no tenemos viajantes con prioridad</li>
        <li>El algoritmo decide qué viajantes participan de la solución final elegida, y cuántas visitas realizan. No
            tenemos viajantes con prioridad.</li>
        <li>Existe un costo por usar un grupo u otro de viajantes (parte del plantel estable de la empresa, o externos).
            El algoritmo decide si incluirlos, y cuántas visitas asignarles.</li>
    </ol>
    <br/>
    <section class="lessons"  aria-label="Lecciones aprendidas">
        <p><span class="lightbulb"></span>
            Nuestro enfoque inicial fue condicionar nuestras soluciones
            para permitir únicamente aquellas que cumplieran con las restricciones del problema del viajante entre ellas:
            <em>todos los puntos deben ser visitados una única vez</em>. Luego entendimos que permitir esta falla en
            nuestras rutas podía brindarle <b>variedad</b> a nuestro algoritmo, por lo que posteriormente reescribimos el código
            e incluimos esta validación <b>dentro de nuestras funciones de fitness bajo una gran penalidad</b> (costo por validez).
        </p>
        <p>
            Permitir soluciones teóricamente incorrectas significa que, durante la ejecución del programa, soluciones en
            las que algunas visitas se repitieron u otras no existieron, formaron parte del pool genético de alguna generación.
        </p>
        <p>
            Si bien este tipo de soluciones no fueron nunca elegidas como la solución ganadora, esto <b>permitió que estas
                soluciones propagaran su material genético, y contribuyeran también a un resultado final más rico genéticamente</b>.
        </p>
    </section>

    <h3>Caso 1: todos los viajantes participan obligatoriamente, las rutas son balanceadas, no tenemos viajantes con prioridad</h3>
    <p>Para este caso, el fitness de una solución viene dado por los siguientes parámetros:</p>
    <ul>
        <li><span class="math-font">C</span>: una constante. Un número grande para poder visualizar los datos. No afecta al resultado final porque se aplica a todas las soluciones</li>
        <li><span class="math-font">costo</span>: el costo de la solución, en el que se miden todas las distancias recorridas entre los puntos de las rutas</li>
        <li><span class="math-font">costo por viajantes</span>: en este caso es cero, porque no consideramos viajantes con prioridad todavía</li>
        <li><span class="math-font">costo por validez</span>: este valor es cero si la solución tiene todas las visitas una única vez, y crece en tanto
            las visitas se repitan, o falten, en una solución</li>
        <li><span class="math-font">costo por desbalanceo</span>: para este caso, este parámetro crece si las rutas tienen más o menos visitas que el promedio.
            Es decir, si tengo dos rutas que comparten 10 visitas, la solución será más balanceada en tanto la cantidad de visitas
        por ruta se asemeje a 5, y menos balanceada en tanto suceda lo contrario.</li>
    </ul>

    <h3>Caso 2: los viajantes no participan obligatoriamente, las rutas no necesariamente son balanceadas, no tenemos viajantes con prioridad</h3>
    <p>Para este caso, el fitness de una solución viene dado por los siguientes parámetros:</p>
    <ul>
        <li><span class="math-font">C</span>: una constante. Un número grande para poder visualizar los datos. No afecta al resultado final porque se aplica a todas las soluciones</li>
        <li><span class="math-font">costo</span>: el costo de la solución, en el que se miden todas las distancias recorridas entre los puntos de las rutas</li>
        <li><span class="math-font">costo por viajantes</span>: en este caso es cero, porque no consideramos viajantes con prioridad todavía</li>
        <li><span class="math-font">costo por validez</span>: este valor es cero si la solución tiene todas las visitas una única vez, y crece en tanto
            las visitas se repitan, o falten, en una solución</li>
        <li><span class="math-font">costo por desbalanceo</span>: no se aplica costo por desbalanceo, por lo que puede ser posible una solución en la que alguna ruta esté vacía.</li>
    </ul>

    <h3>Caso 3: los viajantes no participan obligatoriamente, las rutas no necesariamente son balanceadas, tenemos viajantes con prioridad</h3>
    <p>Para este caso, el fitness de una solución viene dado por los siguientes parámetros:</p>
    <ul>
        <li><span class="math-font">C</span>: una constante. Un número grande para poder visualizar los datos. No afecta al resultado final porque se aplica a todas las soluciones</li>
        <li><span class="math-font">costo</span>: el costo de la solución, en el que se miden todas las distancias recorridas entre los puntos de las rutas</li>
        <li><span class="math-font">costo por viajantes</span>: un valor que crece conforme se utilizan viajeros externos en
        las rutas para penalizarlo</li>
        <li><span class="math-font">costo por validez</span>: este valor es cero si la solución tiene todas las visitas una única vez, y crece en tanto
            las visitas se repitan, o falten, en una solución</li>
        <li><span class="math-font">costo por desbalanceo</span>: no se aplica costo por desbalanceo, por lo que puede ser posible una solución en la que alguna ruta esté vacía.</li>
    </ul>

<hr class="section-end"/>
<h2 id="parents">Selección de padres</h2>    <h3>Aleatoria</h3>
    <p>Se seleccionan dos padres de la generación anterior de forma aleatoria. No se pone ningún criterio extra para elegir un padre bueno o malo. De esta manera, se permite que todas las soluciones que sobrevivieron la generación anterior tengan probabilidad de procrear.</p>
    <p>La idea detrás de esto, es que no podemos saber de antemano qué combinaciones van a dar los mejores hijos, entonces se permiten todas.</p>
    <h3>Por fitness para uno de los padres</h3>
    <p>Con una probabilidad baja permitimos una selección de padres en la que nos aseguramos que al menos uno de los padres tenga buen fitness. Tomamos uno de los padres del mejor 10% de las soluciones, y el otro de forma aleatoria. Esto lo hicimos a modo de prueba para evaluar la incidencia en el resultado final.</p>

<p todo> armar graficos comparativos</p>

<hr class="section-end"/>
<h2 id="crossover">Crossover</h2>
    <p>El crossover es un punto fundamental del algoritmo genético. La elección del mismo afecta el desarrollo y los resultados de la ejecución.</p>
    <p>Para nuestro problema, un problema de optimización de rutas, implementamos cuatro crossovers distintos. Los crossovers elegidos cumplen con distintas condiciones:</p>
    <ul>
        <li>MixByShared propaga la <b>pertenencia</b> de una visita a una ruta dada</li>
        <li>Cycle Crossover propaga la <b>ubicación relativa</b> de las visitas en cada ruta</li>
        <li>Partially mapped Crossover propaga un <b>segmento</b> de la ruta original, y completa el resto con ubicaciones relativas</li>
        <li>Enhanced Edge Recombination propaga las <b>conexiones</b> entre visitas</li>
    </ul>

    <h3>MixByShared (MBS)</h3>
        <p>Desarrollamos este algoritmo para la prueba de comparación de lenguajes. Nos pareció interesante dejarlo para el proyecto final, por tener un enfoque distinto a los demás algoritmos que encontramos en los papers.</p>
    <p>Dadas dos soluciones padres, P0 y P1, analizamos las visitas de cada ruta y marcamos aquellas que corresponden siempre a la misma ruta, y aquellas que en ambos padres pertenecen a rutas distintas, por ejemplo:</p>


    <div class="crossover"><div class="flex wrap mt3 mb3 space">  <p>P0</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> <div class="flex wrap mt3 mb3 space">  <p>P1</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> </div>
    <p>Agrupamos dichas visitas para poder armar las soluciones hijas:</p>

    <div class="crossover"><div class="flex mt3 mb3 gap3"><div><div class="flex"><div class="circle yellow-crayola">1</div><div class="circle dark">2</div><div class="circle yellow-crayola">3</div><div class="circle yellow-crayola">4</div></div><div class="underline-light">viajante A</div></div><div><div class="flex"><div class="circle dark">2</div><div class="circle light-coral">5</div><div class="circle light-coral">6</div><div class="circle light-coral">7</div><div class="circle light-coral">8</div></div><div class="underline-light">viajante B</div></div></div></div>
    <p>Para el viajante 1, los puntos en amarillo están repetidos en ambas soluciones padres,</p>
    <p>Para el viajante 2, los puntos en rojo están repetidos en ambas soluciones padres,</p>
    <p>Los puntos en negro no pertenecen a alguno de los viajantes en particular, sino que, dadas las soluciones padres, pueden pertenecer a cualquiera de las rutas de los viajantes.</p>
    <p>Nuestro algoritmo hereda los puntos compartidos por los padres a las soluciones hijas, y distribuye los puntos no compartidos entre las soluciones hijas de manera aleatoria.</p>
    <p>Finalmente se modifica el orden de las rutas aleatoriamente también.</p>
    <p>Los siguientes son posibles resultados del algoritmo MBS, dadas las soluciones iniciales presentadas.</p>

    <div class="crossover"><div class="flex wrap mt3 mb3 space">  <p>H0</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> <div class="flex wrap mt3 mb3 space">  <p>H1</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> <div class="flex wrap mt3 mb3 space">  <p>H2</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> <div class="flex wrap mt3 mb3 space">  <p>H3</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> </div>
    <p>El resultado del algoritmo son soluciones en las que siempre, todas las visitas de todas las rutas de las soluciones hijas pertenecen a la misma ruta de alguno de los dos padres.</p>
    <p><b>MBS mantiene entonces la asignación de las visitas a las rutas originales, pero no el orden de los mismos, o su posición inicial.</b></p>

    <h3>Cycle Crossover (CX)</h3>
        <p>Este algoritmo fue propuesto por IM Oliver en el paper <em>A Study of permutation crossover Operators on the Traveling Salesman Problem</em>. El algoritmo original está planteado para el problema del viajante (con una única ruta), y su finalidad es encontrar ciclos (partes intercambiables) entre secuencias de visitas. De no encontrar ciclos, no es posible generar soluciones nuevas. Esto sucederá en general para secuencias de visitas cortas.</p>
    <p>Para aplicar este algoritmo a nuestro problema fue necesario implementar adaptaciones, puesto que no se cumplen las mismas condiciones:</p>
    <p>En el algoritmo de Cycle Crossover original se cruzan dos rutas de igual tamaño, con iguales puntos de visita en diferente orden. En nuestro caso, las rutas <b>no necesariamente cumplen esas condiciones</b>: una visita puede estar en la ruta de uno de los padres, y no estarlo en la ruta equivalente del otro padre.</p>
    <p>A continuación presentamos los pasos del algoritmo CX adaptado a nuestro problema. Sean las siguientes nuestras soluciones iniciales:</p>

    <div class="crossover"><div class="flex wrap mt3 mb3 space">  <p>P0</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> <div class="flex wrap mt3 mb3 space">  <p>P1</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> </div>
    <p>Obtendremos de las mismas unas soluciones temporales, en las que sólo  tengamos los puntos que se repiten entre ambas rutas:</p>
    <div class="crossover"><div class="flex wrap mt3 mb3 space">  <p>P0</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> <div class="flex wrap mt3 mb3 space">  <p>P1</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> </div>    <p>Luego se aplica CX a cada una de las rutas. Los ciclos obtenidos para este ejemplo son los siguientes:</p>

    <div class="crossover"><div class="mt3 mb3"><div class="flex wrap gap3 mb2">  <div><div class="flex"><div class="circle light"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>A1</p></div></div><div class="flex"><div class="circle light"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>A1</p></div></div>  <div class="underline-light">viajante A</div>  </div>  <div><div class="flex"><div class="circle light"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>B1</p></div></div><div class="flex"><div class="circle light"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>B1</p></div></div>  <div class="underline-light">viajante B</div>  </div></div></div></div>
    <p>Estos ciclos representan visitas que pueden ser intercambiables manteniendo la integridad de las rutas. Las
        soluciones finales se forman a partir de un padre, y al menos un intercambio en las rutas según los ciclos encontrados, por ejemplo:</p>
    <div class="crossover"><div><div class="flex wrap mt3 mb3 space">  <p>H0</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> <div class="flex wrap mt3 mb3 space">  <p>H1</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> <div class="flex wrap mt3 mb3 space">  <p>H2</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> <div class="flex wrap mt3 mb3 space">  <p>H3</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> </div></div>
    <p>Cycle crossover es un algoritmo que <b>mantiene las posiciones originales de las visitas de los padres en las
            soluciones hijas</b> (sea de uno, u otro padre).</p>
    <p>Al modificarlo para aplicarlo a nuestro problema, mantenemos el orden relativo, pero no las posiciones originales
        necesariamente, puesto que las visitas no compartidas mantienen su posición original dentro de la ruta.</p>


    <h3>Partially mapped crossover (PMX)</h3>
    
    <p>Este algoritmo fue propuesto por D. Goldberg y R. Lingle en el paper <em>Alleles, loci, and the Traveling Salesman Problem.</em></p>
    <p>Este algoritmo mantiene una subsección de la ruta original de uno de los padres, y acomoda el resto de las visitas
        según el orden relativo dentro del otro padre.</p>
    <p>Nuevamente, <b>este algoritmo no se puede aplicar exactamente en nuestro caso</b>, puesto que las dos rutas a cruzar
        no tienen necesariamente los mismos elementos. Una opción es tomar subrutas con los puntos compartidos, como aplicamos
        en Cycle Crossover. Otra opción es aplicar el algoritmo con las rutas como están, lo que resultará en soluciones incompletas.
        Decidimos ir por este camino para darle variedad a las soluciones obtenidas.</p>
    <p>Los pasos son los siguientes:</p>

    <ol>
        <li>Seleccionamos dos soluciones como padres, y seleccionamos una parte de cada ruta para intercambiar.</li>
        <li>Esas partes que seleccionamos se heredan directamente a las soluciones hijas.</li>
        <li>Mapeamos los reemplazos de las visitas dentro de las partes seleccionadas.</li>
        <li>Se completa cada solución hija con el resto de las visitas del padre alterno. Si la visita a heredar está en
            el mapa, se reemplaza por el valor indicado, sino se hereda directamente.</li>
    </ol>

    <p>A continuación presentamos un ejemplo. Partimos de las siguientes soluciones, y elegimos las partes a heredar enteras.
        Para la ruta del viajante A elegimos los índices 2 a 3, y para el viajante B los índices 1 al 3.</p>

    <div class="crossover"><div class="flex wrap mt3 mb3 space">  <p>P0</p>  <div class="flex wrap gap3"> <div>    <div class="flex"><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div></div><i class="icono-arrow1-left"></i><div class="subroute-dark"><div class="flex"><div class="circle light"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div></div></div><i class="icono-arrow1-left"></i><div class="flex"><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>  </div>    <div class="underline-light">viajante A    </div> </div> <div>    <div class="flex"><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div></div><i class="icono-arrow1-left"></i><div class="subroute-dark"><div class="flex"><div class="circle light-coral"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>7</p></div></div></div><i class="icono-arrow1-left"></i><div class="flex"><div class="circle light-coral"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>  </div>    <div class="underline-light">viajante B    </div> </div>  </div></div> <div class="flex wrap mt3 mb3 space">  <p>P1</p>  <div class="flex wrap gap3"> <div>    <div class="flex"><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div></div><i class="icono-arrow1-left"></i><div class="subroute-dark"><div class="flex"><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div></div></div><i class="icono-arrow1-left"></i><div class="flex"><div class="circle medium-turquoise"><p>A1</p></div></div>  </div>    <div class="underline-light">viajante A    </div> </div> <div>    <div class="flex"><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div></div><i class="icono-arrow1-left"></i><div class="subroute-dark"><div class="flex"><div class="circle light-coral"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>2</p></div></div></div><i class="icono-arrow1-left"></i><div class="flex"><div class="circle light-coral"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>  </div>    <div class="underline-light">viajante B    </div> </div>  </div></div> </div>
    <p>Generamos el mapa de reemplazo. En este caso es el siguiente:</p>

    <div class="crossover"><div class="flex gap3 mb3"><div><div class="flex"><div class="circle yellow-crayola"><p>2</p></div><div class="circle yellow-crayola"><p>1</p></div></div><div class="underline-light">viajante A</div></div><div><div class="flex"><div class="circle light-coral"><p>5</p></div><div class="circle light-coral"><p>2</p></div></div><div class="underline-light">viajante B</div></div></div></div>
    <p>Procedemos a heredar las sub rutas marcadas en negro de forma cruzada: vamos a combinar las sub rutas de un padre con el resto de visitas del otro padre.</p>

    <div class="crossover"><div class="flex wrap mt3 mb3 space">  <p>Subruta de P0</p>  <div class="flex wrap gap3"> <div>    <div class="flex"><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p></p></div></div><i class="icono-arrow1-left"></i><div class="subroute-dark"><div class="flex"><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div></div></div><i class="icono-arrow1-left"></i><div class="flex"><div class="circle yellow-crayola"><p></p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>  </div>    <div class="underline-light">viajante A    </div> </div> <div>    <div class="flex"><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div></div><i class="icono-arrow1-left"></i><div class="subroute-dark"><div class="flex"><div class="circle light-coral"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>2</p></div></div></div><i class="icono-arrow1-left"></i><div class="flex"><div class="circle light-coral"><p></p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>  </div>    <div class="underline-light">viajante B    </div> </div>  </div></div> <div class="flex wrap mt3 mb3 space">  <p>Resto de P1</p>  <div class="flex wrap gap3"> <div>    <div class="flex"><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div></div><i class="icono-arrow1-left"></i><div class="subroute-dark"><div class="flex"><div class="circle yellow-crayola"><p></p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p></p></div></div></div><i class="icono-arrow1-left"></i><div class="flex"><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>  </div>    <div class="underline-light">viajante A    </div> </div> <div>    <div class="flex"><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div></div><i class="icono-arrow1-left"></i><div class="subroute-dark"><div class="flex"><div class="circle light-coral"><p></p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p></p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p></p></div></div></div><i class="icono-arrow1-left"></i><div class="flex"><div class="circle light-coral"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>  </div>    <div class="underline-light">viajante B    </div> </div>  </div></div> <hr/><div class="flex wrap mt3 mb3 space">  <p>Resultado H0</p>  <div class="flex wrap gap3"> <div>    <div class="flex"><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div></div><i class="icono-arrow1-left"></i><div class="subroute-dark"><div class="flex"><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div></div></div><i class="icono-arrow1-left"></i><div class="flex"><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>  </div>    <div class="underline-light">viajante A    </div> </div> <div>    <div class="flex"><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div></div><i class="icono-arrow1-left"></i><div class="subroute-dark"><div class="flex"><div class="circle light-coral"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>2</p></div></div></div><i class="icono-arrow1-left"></i><div class="flex"><div class="circle light-coral"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>  </div>    <div class="underline-light">viajante B    </div> </div>  </div></div> </div>    <p>El proceso es el siguiente para la ruta A0:</p>
    <ol>
        <li>Intentamos completar la primer visita de A0. Según el resto de P1, debemos utilizar la visita 1, pero esta se encuentra en el mapa, y debe ser reemplazada por la visita 2. </li>
        <li>Completamos las posiciones 2 y 3 de la ruta A0 según la selección en de P0.</li>
        <li>Intentamos completar la posición 4 según el resto de P1. La visita a utilizar es la 4, que no está en el mapa, por lo que puede ser utilizada.</li>
    </ol>
    <p>Luego, el proceso es el siguiente para la ruta B0:</p>
    <ol>
        <li>Heredamos las visitas 7, 6 y 2 de la ruta B0 de P0.</li>
        <li>Intentamos completar la posición 4 según el resto de P1. La visita a utilizar es la 8, que no está en el mapa, por lo que puede ser utilizada.</li>
    </ol>

    <p>De la misma forma, generamos otra solución hija intercambiando las visitas de forma contraria.</p>
    <div class="crossover"><div class="flex wrap mt3 mb3 space">  <p>Subruta de P1</p>  <div class="flex wrap gap3"> <div>    <div class="flex"><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p></p></div></div><i class="icono-arrow1-left"></i><div class="subroute-dark"><div class="flex"><div class="circle light"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div></div></div><i class="icono-arrow1-left"></i><div class="flex"><div class="circle medium-turquoise"><p>A1</p></div></div>  </div>    <div class="underline-light">viajante A    </div> </div> <div>    <div class="flex"><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div></div><i class="icono-arrow1-left"></i><div class="subroute-dark"><div class="flex"><div class="circle light-coral"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>7</p></div></div></div><i class="icono-arrow1-left"></i><div class="flex"><div class="circle light-coral"><p></p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p></p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>  </div>    <div class="underline-light">viajante B    </div> </div>  </div></div> <div class="flex wrap mt3 mb3 space">  <p>Resto de P0</p>  <div class="flex wrap gap3"> <div>    <div class="flex"><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div></div><i class="icono-arrow1-left"></i><div class="subroute-dark"><div class="flex"><div class="circle yellow-crayola"><p></p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p></p></div></div></div><i class="icono-arrow1-left"></i><div class="flex"><div class="circle medium-turquoise"><p>A1</p></div></div>  </div>    <div class="underline-light">viajante A    </div> </div> <div>    <div class="flex"><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div></div><i class="icono-arrow1-left"></i><div class="subroute-dark"><div class="flex"><div class="circle light-coral"><p></p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p></p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p></p></div></div></div><i class="icono-arrow1-left"></i><div class="flex"><div class="circle light-coral"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>  </div>    <div class="underline-light">viajante B    </div> </div>  </div></div> <hr/><div class="flex wrap mt3 mb3 space">  <p>Resultado H1</p>  <div class="flex wrap gap3"> <div>    <div class="flex"><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div></div><i class="icono-arrow1-left"></i><div class="subroute-dark"><div class="flex"><div class="circle light"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div></div></div><i class="icono-arrow1-left"></i><div class="flex"><div class="circle medium-turquoise"><p>A1</p></div></div>  </div>    <div class="underline-light">viajante A    </div> </div> <div>    <div class="flex"><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div></div><i class="icono-arrow1-left"></i><div class="subroute-dark"><div class="flex"><div class="circle light-coral"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>7</p></div></div></div><i class="icono-arrow1-left"></i><div class="flex"><div class="circle light-coral"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>  </div>    <div class="underline-light">viajante B    </div> </div>  </div></div> </div>
    <p>Como puede verse en las soluciones hijas, ambas repiten la visita "2". La primera solución no tiene la visita "1",
        y la segunda no tiene la visita "5".</p>
    <p>Esto es algo que originalmente intentamos evitar, pero luego al investigar un poco más, concluímos que era una buena
        idea que sucediera: de esta forma el algoritmo puede explorar las rutas de forma menos restrictiva. La función de
        fitness penaliza este tipo de soluciones incompletas, por lo que nunca puede ser elegida como la mejor solución,
        pero sí puede contribuir a generar mejores soluciones mezclándose con otras soluciones de la generación.</p>

    <h3>Enhanced edge recombination (EER)</h3>
    
    <p>En distintos papers encontramos el algoritmo Edge recombination, que mantiene la información de adyacencia entre
        las visitas, pero descarta el orden de los elementos.
        Enhanced edge recombination es una variante de Edge recombination, en la que se retiene también el orden de los elementos al
        preservar sub secuencias comunes a ambos padres. <span data-toggletip>Del paper "A comparison of Genetic Sequencing Operators" (ver sección Bibliografía).</span>
    </p>
    <p>El algoritmo no puede aplicarse directamente en nuestro caso dado que el mismo considera una única ruta por solución en
        la que todos los elementos de ambos padres están representados. En nuestro caso, y nuevamente por tener las visitas
        distribuidas en distintas rutas, no podemos asegurar que las sub rutas compartan siempre todos sus elementos.</p>
    <p>Para poder ejecutar este algoritmo, procedimos a adaptar nuestro problema concatenando las visitas de las distintas
        rutas en una única secuencia de visitas. Luego aplicamos el algoritmo según la bibliografía, y volvimos a separar
        las rutas respetando la cantidad de visitas de alguno de los padres elegido al azar.</p>
    <p>A continuación presentamos un ejemplo:</p>

    <div class="crossover"><div class="flex wrap mt3 mb3 space">  <p>P0</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> <div class="flex wrap mt3 mb3 space">  <p>P1</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> </div>    <p>Generamos rutas temporales, en las que quitamos los bordes y concatenamos las visitas de la siguiente forma:</p>
    <div class="crossover"><div class="flex"><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>8</p></div></div><div class="flex"><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>5</p></div></div></div>
    <p>Una vez obtenida la ruta concatenada procedemos a generar el mapa de adyacencias, marcando con un signo menos aquellas adyacencias que estén en ambas rutas:</p>
    <div class="crossover"><div class="flex gap3" style="flex-wrap: wrap; column-gap: 2em;justify-content: space-between;align-items: baseline;"><div class="flex mb2" style="align-items: baseline;"><div class="circle"><p>1</p></div><i class="icono-arrow1-left"></i><div><div class="circle"><p>2</p></div><div class="circle"><p>3</p></div><div class="circle"><p>7</p></div></div></div><div class="flex mb2" style="align-items: baseline;"><div class="circle"><p>2</p></div><i class="icono-arrow1-left"></i><div><div class="circle"><p>1</p></div><div class="circle"><p>3</p></div><div class="circle"><p>6</p></div><div class="circle"><p>8</p></div></div></div><div class="flex mb2" style="align-items: baseline;"><div class="circle"><p>3</p></div><i class="icono-arrow1-left"></i><div><div class="circle"><p>2</p></div><div class="circle"><p>-4</p></div><div class="circle"><p>1</p></div></div></div><div class="flex mb2" style="align-items: baseline;"><div class="circle"><p>4</p></div><i class="icono-arrow1-left"></i><div><div class="circle"><p>-3</p></div><div class="circle"><p>5</p></div></div></div><div class="flex mb2" style="align-items: baseline;"><div class="circle"><p>5</p></div><i class="icono-arrow1-left"></i><div><div class="circle"><p>4</p></div><div class="circle"><p>6</p></div><div class="circle"><p>8</p></div></div></div><div class="flex mb2" style="align-items: baseline;"><div class="circle"><p>6</p></div><i class="icono-arrow1-left"></i><div><div class="circle"><p>2</p></div><div class="circle"><p>5</p></div><div class="circle"><p>-7</p></div></div></div><div class="flex mb2" style="align-items: baseline;"><div class="circle"><p>7</p></div><i class="icono-arrow1-left"></i><div><div class="circle"><p>1</p></div><div class="circle"><p>-6</p></div><div class="circle"><p>8</p></div></div></div><div class="flex mb2" style="align-items: baseline;"><div class="circle"><p>8</p></div><i class="icono-arrow1-left"></i><div><div class="circle"><p>2</p></div><div class="circle"><p>5</p></div><div class="circle"><p>7</p></div></div></div></div></div>
    <p>Se elije un punto de inicio, en general el inicio de alguna de las dos rutas, y luego se van seleccionando las adyacencias según el mapa: las negativas tienen primera prioridad, y luego, aquellas cuyas adyacencias tengan menos enlaces disponibles.</p>
    <p>Por ejemplo, de partir del "3", la primera prioridad sería el "4" porque tiene un signo menos (está en ambas rutas), luego el "1" porque tiene 3 adyacencias, y por último el "2" porque tiene 4 adyacencias.</p>
    <p>Cada vez que se selecciona una visita se actualiza el mapa quitándola de todas sus adyacencias.</p>
    <p>Si no hay adyacencia para continuar, pero quedan elementos en el mapa, se elige uno al azar y se vuelve a comenzar.</p>

    <p>Empezando desde el "1" y manteniendo la distribución del padre 1, las siguientes son posibles soluciones finales:</p>

    <div class="crossover"><div class="flex wrap mt3 mb3 space">  <p>H0</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> <div class="flex wrap mt3 mb3 space">  <p>H1</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> <div class="flex wrap mt3 mb3 space">  <p>H2</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> </div>
<hr class="section-end"/>
<h2 id="mutation">Mutación</h2>
    <p>
        Dentro del algoritmo genético, el proceso de mutación evita que las soluciones obtenidas se concentren todas en
        un mismo óptimo local. Las mutaciones insertan diversidad, incorporando estructuras genéticas nuevas a la población.
    </p>

    <p>Las siguientes son las distintas mutaciones que aplicamos en la ejecución de nuestro algoritmo genético.</p>
    <ol>
        <li>TWORS/Displacement mutation (<abbr title="Displacement Mutation">DM</abbr>)</li>
        <li>Reverse sequence mutation (<abbr title="Reverse Sequence Mutation">RSM</abbr>)</li>
        <li>Partially shuffled mutation (<abbr title="Partially Shuffled Mutation">PSM</abbr>)</li>
        <li>Jump mutation (<abbr title="Jump Mutation">JM</abbr>)</li>
        <li>Jump displacement mutation (<abbr title="Jump Displacement Mutation">JDM</abbr>)</li>
        <li>Jump reverse sequence mutation (<abbr title="Jump Reverse Sequence Mutation">JSM</abbr>)</li>
        <li>Jump partially shuffled mutation (<abbr title="Jump Partially Shuffled Mutation">JPSM</abbr>)</li>
    </ol>

    <p>Las primeras tres mutaciones mencionadas fueron obtenidas de la bibliografía <span data-toggletip>En especial,
        de estos papers: "Analyzing the Performance of Mutation Operators to Solve the Traveling Salesman Problem",
        y "Genetic Algorithms for the Traveling Salesman Problem: A Review of Representations and Operations".</span>
        y son muy conocidas dentro del tema, por lo que su explicación no será detallada en profundidad este informe.
        Las últimas cuatro mutaciones son adaptaciones que realizamos de las mutaciones anteriores, considerando nuestro
        problema de múltiples viajeros con distintas rutas.</p>


    <p>Las aplicamos de forma equiprobable, sólo una a cada solución, si el rate de mutación se cumple.</p>
<!--    <p todo>En realidad estoy pensando en dirigir las mutaciones según los mejores resultados. graficar</p>-->

    <h3>TWORS/Displacement mutation (DM)</h3>
        <p>Se intercambia la posición de dos visitas en una misma ruta dentro de un cromosoma, elegidas de forma aleatoria.
        Se presenta un ejemplo para clarificar la aplicación de esta mutación:</p>
    <p>Secuencia de visitas antes de la mutación:</p>
      <div class="mutation"><div class="flex"><div class="circle light"><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>4</p></div></div></div>    <p>Secuencia de visitas después de la mutación <abbr title="Displacement Mutation">DM</abbr>:</p>
      <div class="mutation"><div class="flex"><div class="circle light"><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>4</p></div></div></div>
    <p>Para más información ver la <a href="/docs/literature.html">Bibliografía</a>.</p>
    <h3>RSM - Reverse sequence mutation</h3>
    <p>En este caso, se trata de seleccionar una sub secuencia dentro de una ruta en un cromosoma, e invertir el orden de
        la misma. Por ejemplo, dada la secuencia:</p>
      <div class="mutation"><div class="flex"><div class="circle light"><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>5</p></div></div></div>    <p>Una posible mutación es invertir los ítems <span class="mono">1,2,3</span> de manera que la secuencia final sea la siguiente:</p>
      <div class="mutation"><div class="flex"><div class="circle light"><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>5</p></div></div></div>    <p>Para más información ver la <a href="/docs/literature.html">Bibliografía</a>.</p>
    <h3>PSM - Partially shuffled mutation</h3>
    <p>Similar al caso anterior, se selecciona una sub secuencia dentro de una ruta en un cromosoma, pero esta vez
        se ordenan los elementos de forma aleatoria. Por ejemplo:</p>
      <div class="mutation"><div class="flex"><div class="circle light"><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>5</p></div></div></div>    <p>La sub secuencia <span class="mono">1,2,3</span> es elegida para ser desordenada, y el resultado es el siguiente:</p>
      <div class="mutation"><div class="flex"><div class="circle "><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle "><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle "><p>5</p></div></div></div>    <p>Para más información ver la <a href="/docs/literature.html">Bibliografía</a>.</p>
    <h3>Desplazamiento de visita a ruta alternativa: Jump mutation (JM)</h3>

    <p>Esta mutación se aplica a cromosomas con más de dos rutas. Primero elegimos aleatoriamente dos de ellas, una será
        donante y la otra receptora. Luego, elegimos (también) aleatoriamente una visita dentro de la ruta donante y la
        llevamos a una posición aleatoria en la ruta receptora. Visto que la visita "salta" entre rutas, nos pareció
        adecuado nombrar Jump Mutation a esta mutación.</p>
    <p>En el ejemplo a continuación mostramos una solución compuesta de dos rutas, <span mono>A</span> y <span mono>B</span>.</p>
      <div class="mutation"><div class="flex wrap gap3 mb2">  <div><div class="flex"><div class="circle light"><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>3</p></div></div>  <div class="underline-light">viajante A</div>  </div>  <div><div class="flex"><div class="circle light"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>7</p></div></div>  <div class="underline-light">viajante B</div>  </div></div></div>    <p>Seleccionamos la visita <span mono>1</span> para saltar entre las rutas, y la ubicamos entre las visitas
        <span mono>6</span> y <span mono>7</span> de la ruta contraria:</p>
      <div class="mutation"><div class="flex wrap gap3 mb2">  <div><div class="flex"><div class="circle light"><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>3</p></div></div>  <div class="underline-light">viajante A</div>  </div>  <div><div class="flex"><div class="circle light"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>7</p></div></div>  <div class="underline-light">viajante B</div>  </div></div></div>    <section class="lessons"  aria-label="Lecciones aprendidas">
        <p><span class="lightbulb"></span>Si bien esta mutación es muy sencilla, resultó ser de vital importancia en el desarrollo de nuestro algoritmo
            genético, puesto que es la primera mutación que presentamos en la que los cambios no están limitados a una única ruta.
            Esto es porque las mutaciones anteriores fueron desarrolladas pensando en el problema del viajante simple, en el
            que sólo se trata de optimizar una única ruta. En nuestro caso, esta mutación surgió a modo de prueba y
            nos proporcionó muy buenos resultados, por lo que decidimos luego extender las mutaciones <abbr title="Displacement Mutation">DM</abbr>,
            <abbr title="Reverse Sequence Mutation">RSM</abbr> y <abbr title="Partially Shuffled Mutation">PSM</abbr> para variar los cromosomas entre rutas también.</p>
    </section>


    <p todo>poner graficos comparativos</p>

    <h3>Jump Displacement Mutation (JDM)</h3>
    <p>Esta mutación es una variante de <abbr title="Displacement Mutation">DM</abbr>, en la que efectuamos el intercambio de visitas entre rutas distintas (si
        tenemos más de una ruta). Por Ejemplo, dada una solución:</p>
          <div class="mutation"><div class="flex wrap gap3 mb2">  <div><div class="flex"><div class="circle light"><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>3</p></div></div>  <div class="underline-light">viajante A</div>  </div>  <div><div class="flex"><div class="circle light"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>7</p></div></div>  <div class="underline-light">viajante B</div>  </div></div></div>        <p>Una posible mutación es invertir las posiciones de las visitas <span mono>1</span> y <span mono>6</span> que se
        encuentran en rutas ditintas:</p>
          <div class="mutation"><div class="flex wrap gap3 mb2">  <div><div class="flex"><div class="circle light"><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>3</p></div></div>  <div class="underline-light">viajante A</div>  </div>  <div><div class="flex"><div class="circle light"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>7</p></div></div>  <div class="underline-light">viajante B</div>  </div></div></div>
    <h3>Jump RSM (JRSM)</h3>
    <p>Para adaptar <abbr title="Reverse Sequence Mutation">RSM</abbr> a nuestro problema de múltiples rutas, decidimos aplicar el algoritmo nuevamente en
    dos partes: primero seleccionar una sub secuencia dentro de una ruta, quitarla de la ruta original e invertir el orden
    de sus elementos, para luego incorporar dicha secuencia en un punto aleatorio de otra ruta de la misma solución.
    Ver el ejemplo a continuación:</p>
      <div class="mutation"><div class="flex wrap gap3 mb2">  <div><div class="flex"><div class="circle light"><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>3</p></div></div>  <div class="underline-light">viajante A</div>  </div>  <div><div class="flex"><div class="circle light"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>7</p></div></div>  <div class="underline-light">viajante B</div>  </div></div></div>    <p>El siguiente es un resultado final posible:</p>
      <div class="mutation"><div class="flex wrap gap3 mb2">  <div><div class="flex"><div class="circle light"><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>3</p></div></div>  <div class="underline-light">viajante A</div>  </div>  <div><div class="flex"><div class="circle light"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>7</p></div></div>  <div class="underline-light">viajante B</div>  </div></div></div>
    <h3>PSM entre rutas (JPSM)</h3>
    <p>Al igual que en el caso anterior, para poder adaptar <abbr title="Jump Partially Shuffled Mutation">JPSM</abbr> mejor a nuestro problema, aplicamos parte
    del algoritmo a una ruta, y el resto a otra ruta dentro de la misma solución. Por ejemplo, seleccionamos las
    visitas <span mono>2,3,4</span> de la ruta <span mono>A</span>:</p>
      <div class="mutation"><div class="flex wrap gap3 mb2">  <div><div class="flex"><div class="circle light"><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>5</p></div></div>  <div class="underline-light">viajante A</div>  </div>  <div><div class="flex"><div class="circle light"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>7</p></div></div>  <div class="underline-light">viajante B</div>  </div></div></div>    <p>Cambiamos el orden de los elementos de forma aleatoria, por ejemplo: <span mono>3,2,4</span>, e insertamos
    esta secuencia en un punto aleatorio dentro de otra ruta de la misma solución:</p>
      <div class="mutation"><div class="flex wrap gap3 mb2">  <div><div class="flex"><div class="circle light"><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>5</p></div></div>  <div class="underline-light">viajante A</div>  </div>  <div><div class="flex"><div class="circle light"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>7</p></div></div>  <div class="underline-light">viajante B</div>  </div></div></div>
<hr class="section-end"/>
<h2 id="survivors">Selección de soluciones sobrevivientes</h2>
<p>Las siguientes son las funciones de probabilidad que utilizamos para seleccionar las soluciones que sobreviven y forman parte
de la siguiente generación. La elección de qué función usar se hace de manera aleatoria para cada generación.</p>
<h3>Distribución exponencial negativa</h3>

<figure class="mw-inherit" style="margin: 0;" role="group">
        <img class="mw-inherit" src="./images/p_exponential.png"
             alt="Distribución de probabilidad según una exponencial negativa.">
        <figcaption>
        <p>Se selecciona obligatoriamente un porcentaje de las mejores soluciones.
        En el gráfico esto se ve representado por un plateau con probabilidad igual a uno al inicio de la curva.
        Luego de ese porcentaje, la probabilidad desciende en forma de exponencial negativa hasta llegar
        a un valor pequeño pero distinto de cero.</p>
        <p>Elegimos una distribución exponencial y no lineal porque nos permitió variar la velocidad de la caída de la curva,
        de forma de asegurar una diferencia en la posibilidad de elegir una mejor solución respecto de una solución menos buena.</p>
        <p>Dado que la curva tiende a aplanarse en una probabilidad muy baja, pero distinta de cero, nos aseguramos de que todas las soluciones
        tengan posibilidad de ser elegidas.</p>
        </figcaption>
    </figure>
<h3>Distribución escalonada</h3>

<figure class="mw-inherit" style="margin: 0;" role="group">
        <img class="mw-inherit" src="./images/p_square.png"
             alt="Distribución de probabilidad escalonada.">
        <figcaption>
        <p>Al igual que en el caso anterior, las mejores soluciones tienen garantizada su supervivencia hacia la siguiente
        generación. Esto se refleja nuevamente en el gráfico con una probabilidad igual a uno para las primeras soluciones.</p>
        <p>La probabilidad de seleccionar cualquier otra solución es escalonada. Aquellas soluciones buenas, intermedias 
        o malas tienen la misma probabilidad de ser elegidas. El resto de las soluciones, es decir, todas las que no se destacan por ser 
        muy buenas, muy malas, o intermedias tienen probabilidad cero de ser elegidas.</p>
        </figcaption>
    </figure>
<h3>Comparación de resultados entre ambas distribuciones</h3>

<p todo>aca pensé en ejecutar el core variando la probabilidad de elegir una u otra. Tendría que hacerlo muchas veces y sacar promedio.</p>


<hr class="section-end"/>
<h2 id="end-criteria">Criterio de finalización</h2><p>Es esperado en este tipo de algoritmos definir un límite de tiempo o un límite de iteraciones para considerar
finalizada la ejecución. En nuestro caso, decidimos considerar un límite de iteraciones por ejecución, con la salvedad de
que el algoritmo esté en una buena <em>racha</em> y todavía encuentre buenas soluciones aún acercándose al límite de los loops:</p>
<p>Nuestro algoritmo evalúa una cantidad de iteraciones antes de terminar cuál es la mejor solución encontrada, y si supera
esa solución antes de llegar al límite, se extiende la ejecución unas iteraciones más.</p>


<hr class="section-end"/>
        <div class="mt3 mb3"><a href="/docs/core/specs.html">Seguir leyendo: Especificaciones técnicas ></a></div>
    </div>
</main>
<footer class="footer"><div><button onclick="topFunction()" id="btn-scroll-top" title="Volver al inicio de la página">Subir</button><p class="center"><a href="/docs/sitemap.html">Índice</a></p></div></footer>
    <script src="/docs/js/tooltip.js"></script>
    <script src="/docs/js/scroll-top.js"></script>
</body>
</html>