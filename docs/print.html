
<!DOCTYPE html>
<html lang="es">
<head>
    <meta name="robots" content="noindex">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Versión para imprimir</title>
    <link rel="shortcut icon" href="/docs/images/favicon.png" type="image/png">
    <link rel="stylesheet" href="/docs/css/fonts.css">
    <link rel="stylesheet" href="/docs/css/colors.css">
    <link rel="stylesheet" href="/docs/css/layout.css">
    <link rel="stylesheet" href="/docs/css/styles.css">
    <link rel="stylesheet" href="/docs/css/solutions-style.css">

    <link rel="stylesheet" href="/docs/css/tooltip.css">
    <link rel="stylesheet" href="/docs/css/scroll-top.css">
    <link rel="stylesheet" href="/docs/css/tobii.min.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
<main id="main-content print">
<div class="content">




    
<!DOCTYPE html>
<html lang="es">
<head>
    <meta name="robots" content="noindex">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Diseño e implementación de un sistema de cálculo y control de trayectorias</title>
    <link rel="shortcut icon" href="/docs/images/favicon.png" type="image/png">
    <link rel="stylesheet" href="/docs/css/fonts.css">
    <link rel="stylesheet" href="/docs/css/colors.css">
    <link rel="stylesheet" href="/docs/css/layout.css">
    <link rel="stylesheet" href="/docs/css/styles.css">
    <link rel="stylesheet" href="/docs/css/solutions-style.css">

    <link rel="stylesheet" href="/docs/css/tooltip.css">
    <link rel="stylesheet" href="/docs/css/scroll-top.css">
    <link rel="stylesheet" href="/docs/css/tobii.min.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>

<header class="header"><h1 class="mw-content">Trabajo Profesional de Ingeniería en Informática</h1></header><main id="main-content">
    <div class="content" style="text-align: center;">
        <img src="/docs/images/logofiuba.png" alt="Facultad de Ingeniería de la Universidad de Buenos Aires"/>
        <h2>Diseño e implementación de un sistema de cálculo y control de trayectorias</h2>
        <h3>Autores</h3>
        <div style="display: flex;flex-direction: column;align-items: center;">
                                    <div class="flex gap3">
                <div><p>Mauro Capolupo</p></div>
                <div><p>90283</p></div>
            </div>
                        <div class="flex gap3">
                <div><p>Ana Sofía Colautti</p></div>
                <div><p>89451</p></div>
            </div>
                        <div class="flex gap3">
                <div><p>Nerea Piccone</p></div>
                <div><p>92559</p></div>
            </div>
            
        </div>

        <h3>Directora del Trabajo Profesional</h3>
        <p>Lic. Silvia Adriana Ramos</p>

        <p>Buenos Aires, diciembre 2022</p>
    </div>
</main>
<hr class="mt8" /><hr/>

    <script src="/docs/js/tooltip.js"></script>
    <script src="/docs/js/scroll-top.js"></script>
    <script src="/docs/js/tobii.min.js"></script>
    <script>
      const tobii = new Tobii();
    </script>
</body>
</html>
    

<!DOCTYPE html>
<html lang="es">
<head>
    <meta name="robots" content="noindex">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>El sistema</title>
    <link rel="shortcut icon" href="/docs/images/favicon.png" type="image/png">
    <link rel="stylesheet" href="/docs/css/fonts.css">
    <link rel="stylesheet" href="/docs/css/colors.css">
    <link rel="stylesheet" href="/docs/css/layout.css">
    <link rel="stylesheet" href="/docs/css/styles.css">
    <link rel="stylesheet" href="/docs/css/solutions-style.css">

    <link rel="stylesheet" href="/docs/css/tooltip.css">
    <link rel="stylesheet" href="/docs/css/scroll-top.css">
    <link rel="stylesheet" href="/docs/css/tobii.min.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>

<header class="header"><h1 class="mw-content">El sistema presentado</h1></header>
<main id="main-content">
<div class="content">

        <p todo>Nuevo!</p>
    <p>Este trabajo pretende facilitar los procesos laborales dentro de <span class="company">la empresa</span>, una empresa de visitadores
        médicos a domicilio.
        Para esto desarrollamos un sistema informático que agiliza el cálculo de las rutas de los médicos y las distribución
        de esta información a los teléfonos de los mismos, permitiendo control por parte de un administrador y agilidad
        en la generación de los reportes para facturación.</p>
    <p>El software desarrollado consta de los siguientes:</p>
    <ul>
        <li>Una interfaz web administrativa para carga de pacientes y médicos, control de jornadas y expedición de reportes</li>
        <li>Una aplicación mobile para facilitar el recorrido de las rutas y control administrativo de los viajantes</li>
        <li>Un programa de cálculo y optimización de rutas al que llamaremos <em>core</em></li>
        <li>Un servidor backend que sirve la información necesaria a la interfaz web y mobile, y comunica todas las partes
        del sistema.</li>
    </ul>
<!--    <p>Lorem impsum dolor sit amet: <span class="mono">texto en monospace</span>. Ver tooltip en boton redondo con la letra i: <span data-toggletip>Esto es un tooltip</span></p>
    <p>Para escribir el nombre de la empresa (intentemos evitarlo) usar esto: <span class="company">la empresa</span></p>

    <section class="lessons"  aria-label="Lecciones aprendidas">
        <p><span class="lightbulb"></span>Nuestro enfoque inicial fue condicionar nuestras soluciones
            para permitir únicamente aquellas que cumplieran con las restricciones del problema del viajante: todos los
            puntos deben ser visitados una única vez. Luego entendimos que permitir esta falla en nuestras rutas podía
            brindarle variedad a nuestro algoritmo, por lo que posteriormente reescribimos el código e incluimos esta
            validación dentro de nuestra función de fitness bajo una gran penalidad.</p>
    </section>-->

</div>
</main>

<hr class="mt8" /><hr/>

    <script src="/docs/js/tooltip.js"></script>
    <script src="/docs/js/scroll-top.js"></script>
    <script src="/docs/js/tobii.min.js"></script>
    <script>
      const tobii = new Tobii();
    </script>
</body>
</html>
    
<!DOCTYPE html>
<html lang="es">
<head>
    <meta name="robots" content="noindex">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Manual de uso Admin</title>
    <link rel="shortcut icon" href="/docs/images/favicon.png" type="image/png">
    <link rel="stylesheet" href="/docs/css/fonts.css">
    <link rel="stylesheet" href="/docs/css/colors.css">
    <link rel="stylesheet" href="/docs/css/layout.css">
    <link rel="stylesheet" href="/docs/css/styles.css">
    <link rel="stylesheet" href="/docs/css/solutions-style.css">

    <link rel="stylesheet" href="/docs/css/tooltip.css">
    <link rel="stylesheet" href="/docs/css/scroll-top.css">
    <link rel="stylesheet" href="/docs/css/tobii.min.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>

<header class="header"><h1 class="mw-content">Manual de uso del Administrador</h1></header>
    <main id="main-content">
        <div class="content">

            
                        <ol><li><a href="#login">Inicio de sesión</a></li><li><a href="#patients">Pacientes</a></li><li><a href="#doctors">Médicos</a></li><li><a href="#visits">Creación de visitas</a></li><li><a href="#reports">Reportes</a></li><li><a href="#notes">Detalle del diagnóstico</a></li><li><a href="#extras">Otras funcionalidades</a></li></ol>
<!--            <h2 >Inicio de sesión</h2>-->
            <h2 id="login">Inicio de sesión</h2>            <p>Se accede a la página del administrador, ingresando las credenciales con mail y contraseña. </p>
            <div class="flex center">
                                <div class="flex center"><a href="/docs/images/admin/login.png"  class="lightbox" title="Expandir imagen"  data-group=login><div class="flex center mb2"> <img src="/docs/images/admin/login.png" alt="Inicio de sesión" style="max-width: 600px; width:100%;"></div></a></div>            </div>
            <p>Al iniciar el día, se deben cargar los pacientes y en caso que se necesite, los médicos. Una vez
                cargados, se deberá crear la jornada que incluye la selección de médicos a asignar en el viaje. </p>

            <p>En caso de fallo en las credenciales, se visualizará un error.</p>

            <div class="flex center">
                                <div class="flex center"><a href="/docs/images/admin/wronglogin.png"  class="lightbox" title="Expandir imagen"  data-group=login><div class="flex center mb2"> <img src="/docs/images/admin/wronglogin.png" alt="Inicio de sesión fallido" style="max-width: 600px; width:100%;"></div></a></div>            </div>

<!--            <h2>Pacientes</h2>-->
            <h2 id="patients">Pacientes</h2>
            <p>En el panel Pacientes se podrán visualizar todos los pacientes que estén pendientes de visitar.</p>

            <div class="flex center">
                                <div class="flex center"><a href="/docs/images/admin/patient1.png"  class="lightbox" title="Expandir imagen"  data-group=patients1><div class="flex center mb2"> <img src="/docs/images/admin/patient1.png" alt="Listado de pacientes" style="max-width: 600px; width:100%;"></div></a></div>            </div>

            <p>Los pacientes se podrán dar de alta de dos formas: manual y masiva.</p>

            <h3>Carga manual</h3>

            <p>Para realizar la carga manual se deberá presionar sobre el botón CREAR</p>

            <p>Se dirigirá a un formulario donde se pedirán los datos requeridos por <span class="company">la empresa</span>. </p>

            <div class="flex center">
                                <div class="flex center"><a href="/docs/images/admin/patientcreate.png"  class="lightbox" title="Expandir imagen"  data-group=patients2><div class="flex center mb2"> <img src="/docs/images/admin/patientcreate.png" alt="Crear paciente" style="max-width: 600px; width:100%;"></div></a></div>            </div>

            <p> Para cargar la dirección, se deberá usar la ayuda sobre el mapa. Esto permite que las direcciones sean
                validadas por el administrador.</p>
            <p> Se deberá indicar la ubicación exacta del paciente y se podrá incluir los detalles del lugar.</p>

            <div class="flex center">
                                <div class="flex center"><a href="/docs/images/admin/patientcreatedirection.png"  class="lightbox" title="Expandir imagen"  data-group=patients2><div class="flex center mb2"> <img src="/docs/images/admin/patientcreatedirection.png" alt="Crear paciente" style="max-width: 600px; width:100%;"></div></a></div>            </div>

            <p>Se debe presionar GUARDAR para que los datos quedén grabados.</p>

            <h3>Carga masiva</h3>

            <p>La otra forma de crear pacientes es de forma masiva, esto permitirá acelerar la carga de pacientes
                y <span class="company">la empresa</span> podrá solicitar a quienes presta servicio, completar el documento como parte
                del procedimiento. Este documento deberá seguir el formato requerido.</p>

            <p>El formato requerido es el siguiente: </p>

            <div class="flex center">
                                <div class="flex center"><a href="/docs/images/admin/csv.png"  class="lightbox" title="Expandir imagen"  data-group=patients3><div class="flex center mb2"> <img src="/docs/images/admin/csv.png" alt="Formato Excel" style="max-width: 600px; width:100%;"></div></a></div>            </div>

            <p>La carga se realizará presionando el botón CARGA MASIVA. Se deberá seleccionar el
                archivo y con abrirlo ya se verán cargados los pacientes.</p>

            <div class="flex center">
                                <div class="flex center"><a href="/docs/images/admin/patientupload.png"  class="lightbox" title="Expandir imagen"  data-group=patients4><div class="flex center mb2"> <img src="/docs/images/admin/patientupload.png" alt="Captura de pantalla del pop up para cargar el archivo CSV" style="max-width: 600px; width:100%;"></div></a></div>            </div>


            <h3> Edición de paciente</h3>

            <p>En la columna Acciones se desplegarán dos botones. Uno de ellos es el botón Editar.</p>

            <p> Se podrá editar cualquier dato del paciente.</p>

            <div class="flex center">
                                <div class="flex center"><a href="/docs/images/admin/patientedit.png"  class="lightbox" title="Expandir imagen"  data-group=patients5><div class="flex center mb2"> <img src="/docs/images/admin/patientedit.png" alt="Selección de un paciente en el listado para edición" style="max-width: 600px; width:100%;"></div></a></div>            </div>

            <div class="flex center">
                                <div class="flex center"><a href="/docs/images/admin/patientedit1.png"  class="lightbox" title="Expandir imagen"  data-group=patients5><div class="flex center mb2"> <img src="/docs/images/admin/patientedit1.png" alt="Edición de datos básicos del paciente" style="max-width: 600px; width:100%;"></div></a></div>            </div>

            <div class="flex center">
                                <div class="flex center"><a href="/docs/images/admin/patientedit3.png"  class="lightbox" title="Expandir imagen"  data-group=patients5><div class="flex center mb2"> <img src="/docs/images/admin/patientedit3.png" alt="Edición de datos de la dirección del paciente" style="max-width: 600px; width:100%;"></div></a></div>            </div>

            <h3>Borrado de paciente</h3>

            <p>En caso de error, se podrá eliminar un paciente. Para ello se deberá
                seleccionar la fila deseada y en la columna Acciones, se podrá presionar Borrar</p>

            <p> Aparecerá un mensaje para deshacer la operación en caso de querer revertir el borrado.</p>

            <div class="flex center">
                                <div class="flex center"><a href="/docs/images/admin/patientdelete1.png"  class="lightbox" title="Expandir imagen"  data-group=patients6><div class="flex center mb2"> <img src="/docs/images/admin/patientdelete1.png" alt="Borrado de un paciente desde el listado" style="max-width: 600px; width:100%;"></div></a></div>            </div>

            <h3>Visualización de paciente</h3>

            <p> Al presionar sobre algún paciente, se podrán visualizar los datos cargados del mismo.</p>

            <div class="flex center">
                                <div class="flex center"><a href="/docs/images/admin/patientshow1.png"  class="lightbox" title="Expandir imagen"  data-group=patients7><div class="flex center mb2"> <img src="/docs/images/admin/patientshow1.png" alt="Visualización del paciente" style="max-width: 600px; width:100%;"></div></a></div>            </div>

<!--            <h2>Médicos</h2>-->
            <h2 id="doctors">Médicos</h2>

            <h3> Creación de médico</h3>

            <p>A diferencia de los pacientes, el médico sólo podrá cargarse de forma manual.</p>

            <p>La carga solo deberá realizarse una vez.</p>

            <div class="flex center">
                                <div class="flex center"><a href="/docs/images/admin/medicocreate0.png"  class="lightbox" title="Expandir imagen"  data-group=doctors1><div class="flex center mb2"> <img src="/docs/images/admin/medicocreate0.png" alt="Creación médico, carga de los datos básicos" style="max-width: 600px; width:100%;"></div></a></div>            </div>

            <p> Todos los datos de los médicos son obligatorios. </p>

            <p>Por requisito de la empresa, se deberá cargar la foto del médico junto a los demás datos requeridos.</p>

            <p> Si el médico no pertenece a la planta de <span class="company">la empresa</span>, deberá marcarse como external.</p>

            <p> Al crearse, el médico se designa como Disponible, luego se podrá cambiar. </p>

            <p> Se deberán indicar dos direcciones. La dirección inicial es la dirección en donde parte el médico. La dirección final es el destino final.</p>

            <div class="flex center">
                                <div class="flex center"><a href="/docs/images/admin/medicocreate1.png"  class="lightbox" title="Expandir imagen"  data-group=doctors2><div class="flex center mb2"> <img src="/docs/images/admin/medicocreate1.png" alt="Carga de la dirección del médico" style="max-width: 600px; width:100%;"></div></a></div>            </div>

            <div class="flex center">
                                <div class="flex center"><a href="/docs/images/admin/doctorcreate2.png"  class="lightbox" title="Expandir imagen"  data-group=doctors2><div class="flex center mb2"> <img src="/docs/images/admin/doctorcreate2.png" alt="Carga de la dirección del médico" style="max-width: 600px; width:100%;"></div></a></div>            </div>

            <p>Se debe presionar GUARDAR para que los datos quedén grabados.</p>

            <h3> Edición de médico</h3>

            <p>Se podrán editar los datos de los médicos.</p>

            <p> En caso que se requiera ante cualquier eventualidad, se podrá pasar a no disponible. Esto evitará que lo tenga en cuenta en el armado de las visitas. </p>

            <div class="flex center">
                                <div class="flex center"><a href="/docs/images/admin/doctoredit3.png"  class="lightbox" title="Expandir imagen"  data-group=doctors3><div class="flex center mb2"> <img src="/docs/images/admin/doctoredit3.png" alt="Edición médico: cambio de tipo de médico, de interno a externo a la empresa" style="max-width: 600px; width:100%;"></div></a></div>            </div>

            <!-- Nere aca me parece que le pifeaste a la imagen: -->
            <div class="flex center">
                                <div class="flex center"><a href="/docs/images/admin/medicoedit2.png"  class="lightbox" title="Expandir imagen"  data-group=doctors3><div class="flex center mb2"> <img src="/docs/images/admin/medicoedit2.png" alt="Edición médico" style="max-width: 600px; width:100%;"></div></a></div>            </div>

            <!-- Nere aca me parece que acá también le pifeaste a la imagen: -->
            <div class="flex center">
                                <div class="flex center"><a href="/docs/images/admin/medicoedit3.png"  class="lightbox" title="Expandir imagen"  data-group=doctors3><div class="flex center mb2"> <img src="/docs/images/admin/medicoedit3.png" alt="Edición médico" style="max-width: 600px; width:100%;"></div></a></div>            </div>

            <h3> Borrado de médico</h3>

            <p>Al igual que los pacientes, los médicos también pueden borrarse del sistema.</p>

            <div class="flex center">
                                <div class="flex center"><a href="/docs/images/admin/medicodelete1.png"  class="lightbox" title="Expandir imagen"  data-group=doctors4><div class="flex center mb2"> <img src="/docs/images/admin/medicodelete1.png" alt="Borrado de un médico desde el listado" style="max-width: 600px; width:100%;"></div></a></div>            </div>

            <h3> Visualización de médico</h3>

            <p>Se podrá visualizar todos los médicos cargados en el sistema. Al seleccionar un médico se visualizarán los datos cargados.</p>

            <div class="flex center">
                                <div class="flex center"><a href="/docs/images/admin/doctorshow.png"  class="lightbox" title="Expandir imagen"  data-group=doctors5><div class="flex center mb2"> <img src="/docs/images/admin/doctorshow.png" alt="Visualización del médico" style="max-width: 600px; width:100%;"></div></a></div>            </div>

<!--            <h2>Creación de visitas</h2>-->
            <h2 id="visits">Creación de visitas</h2>
            <p>Para el inicio de la jornada y, una vez cargados los pacientes y médicos, se habilitará el
                botón INICIO JORNADA.</p>

            <div class="flex center">
                                <div class="flex center"><a href="/docs/images/admin/inicio.png"  class="lightbox" title="Expandir imagen"  data-group=visits1><div class="flex center mb2"> <img src="/docs/images/admin/inicio.png" alt="Pantalla de inicio" style="max-width: 600px; width:100%;"></div></a></div>            </div>

            <p> Se podrán seleccionar todos los pacientes que tengan un estado pendiente o reprogramado (en caso
                que no se haya podido atender el día anterior por fuerza mayor).</p>

            <div class="flex center">
                                <div class="flex center"><a href="/docs/images/admin/initiate2.png"  class="lightbox" title="Expandir imagen"  data-group=visits2><div class="flex center mb2"> <img src="/docs/images/admin/initiate2.png" alt="Selección de pacientes para una jornada" style="max-width: 600px; width:100%;"></div></a></div>            </div>

            <p>Lo mismo se podrá realizar con los médicos.</p>

            <div class="flex center">
                                <div class="flex center"><a href="/docs/images/admin/initiate1.png"  class="lightbox" title="Expandir imagen"  data-group=visits3><div class="flex center mb2"> <img src="/docs/images/admin/initiate1.png" alt="Selección de médicos para una jornada" style="max-width: 600px; width:100%;"></div></a></div>            </div>

            <p> Una vez seleccionado los pacientes y los médicos, se podrá continuar para la creación
                de las visitas.</p>

            <p>Dado que en esta sección se estará realizando el cálculo de los mejores viajes
                posibles, tardará unos minutos.</p>

            <div class="flex center">
                                <div class="flex center"><a href="/docs/images/admin/loading.png"  class="lightbox" title="Expandir imagen"  data-group=visits4><div class="flex center mb2"> <img src="/docs/images/admin/loading.png" alt="Captura de pantalla de la pantalla de espera" style="max-width: 600px; width:100%;"></div></a></div>            </div>

            <p>Se habilitarán tres propuestas: <b>balanceada</b>, <b>priorizada</b> y <b>desbalanceada</b>.</p>


            <div class="flex center">
                                <div class="flex center"><a href="/docs/images/admin/prop3.png"  class="lightbox" title="Expandir imagen"  data-group=visits5><div class="flex center mb2"> <img src="/docs/images/admin/prop3.png" alt="Captura de pantalla de la propuesta balanceada para una jornada" style="max-width: 600px; width:100%;"></div></a></div>            </div>

            <div class="flex center">
                                <div class="flex center"><a href="/docs/images/admin/prop2.png"  class="lightbox" title="Expandir imagen"  data-group=visits5><div class="flex center mb2"> <img src="/docs/images/admin/prop2.png" alt="Captura de pantalla de la propuesta priorizada (prioriza médicos de la empresa) para una jornada" style="max-width: 600px; width:100%;"></div></a></div>            </div>

            <div class="flex center">
                                <div class="flex center"><a href="/docs/images/admin/prop1.png"  class="lightbox" title="Expandir imagen"  data-group=visits5><div class="flex center mb2"> <img src="/docs/images/admin/prop1.png" alt="Captura de pantalla de la propuesta desbalanceada para una jornada" style="max-width: 600px; width:100%;"></div></a></div>            </div>

            <p> Una vez aceptada la propuesta, se pasará a la pantalla de monitoreo. Allí se podrán
                ver los próximos viajes de los médicos y el paciente asignado a cada uno de ellos.</p>

            <div class="flex center">
                                <div class="flex center"><a href="/docs/images/admin/running4.png"  class="lightbox" title="Expandir imagen"  data-group=visits6><div class="flex center mb2"> <img src="/docs/images/admin/running4.png" alt="Pantalla de monitoreo, jornada en curso" style="max-width: 600px; width:100%;"></div></a></div>            </div>

            <p>En últimas novedades se verán las próximas visitas a realizarse.</p>

            <p>En viajes restantes se visualizará la cantidad de viajes pendientes del día.</p>

            <div class="flex center">
                                <div class="flex center"><a href="/docs/images/admin/running3.png"  class="lightbox" title="Expandir imagen"  data-group=visits7><div class="flex center mb2"> <img src="/docs/images/admin/running3.png" alt="Pantalla de monitoreo, jornada en curso. En el mapa se marcan como visitados los pacientes y en la barra lateral se informa el estado de cada médico y la cantidad de viajes faltantes para concluir la jornada" style="max-width: 600px; width:100%;"></div></a></div>            </div>

            <p>En caso de que algún médico no pueda continuar su ruta, podrá cancelar el viaje
                indicándole al administrador. El administrador podrá cambiar el estado del médico a no
                disponible y deberá recalcular la jornada.</p>

            <div class="flex center">
                                <div class="flex center"><a href="/docs/images/admin/runningpopup.png"  class="lightbox" title="Expandir imagen"  data-group=visits8><div class="flex center mb2"> <img src="/docs/images/admin/runningpopup.png" alt="Pop Up de cancelación de jornada" style="max-width: 600px; width:100%;"></div></a></div>            </div>

<!--            <h2>Reportes</h2>-->
            <h2 id="reports">Reportes</h2>
            <p>El administrador, finalizado el mes, debe enviar a cada empresa que solicitó servicios médicos
                un reporte con los datos de los pacientes y sus correspondientes notas. Para ello, se facilita un
                reporte con la información requerida por las empresas.</p>

            <div class="flex center">
                                <div class="flex center"><a href="/docs/images/admin/report1.png"  class="lightbox" title="Expandir imagen"  data-group=reports1><div class="flex center mb2"> <img src="/docs/images/admin/report1.png" alt="Reporte" style="max-width: 600px; width:100%;"></div></a></div>            </div>

            <p> Entre las funcionalidades básicas se encuentra el uso de filtro rápido que puede
                realizarse por empresas, estados, o cualquier dato que se pueda visualizar desde el reporte y también
                el filtro específico.</p>

            <div class="flex center">
                                <div class="flex center"><a href="/docs/images/admin/report2.png"  class="lightbox" title="Expandir imagen"  data-group=reports2><div class="flex center mb2"> <img src="/docs/images/admin/report2.png" alt="Opciones de filtrado en pantalla de Reporte" style="max-width: 600px; width:100%;"></div></a></div>            </div>



            <p> Una vez disponible la información, el usuario podrá descargar el reporte en formato Excel
                / CSV.</p>

            <div class="flex center">
                                <div class="flex center"><a href="/docs/images/admin/report3.png"  class="lightbox" title="Expandir imagen"  data-group=reports3><div class="flex center mb2"> <img src="/docs/images/admin/report3.png" alt="Descarga de Reporte" style="max-width: 600px; width:100%;"></div></a></div>            </div>

<!--            <h2> Detalle del diagnóstico</h2>-->
            <h2 id="notes">Detalle del diagnóstico</h2>

            <p>Se ofrece la opción de detalle del diagnóstico al presionar un paciente sobre el reporte.</p>
            <p>En esta sección se pueden visualizar las notas que dejó el médico para el paciente,
                incluso si la visita fue reprogramada.</p>


            <div class="flex center">
                                <div class="flex center"><a href="/docs/images/admin/patientsnote2.png"  class="lightbox" title="Expandir imagen"  data-group=notes1><div class="flex center mb2"> <img src="/docs/images/admin/patientsnote2.png" alt="Notas de la visita al paciente" style="max-width: 600px; width:100%;"></div></a></div>            </div>

            <!-- Nere soy yo o esta imagen es igual a la de arriba? -->
            <div class="flex center">
                                <div class="flex center"><a href="/docs/images/admin/patientnotes.png"  class="lightbox" title="Expandir imagen"  data-group=notes1><div class="flex center mb2"> <img src="/docs/images/admin/patientnotes.png" alt="Notas de la visita al paciente" style="max-width: 600px; width:100%;"></div></a></div>            </div>

            <h2 id="extras">Otras funcionalidades</h2>
            <p>Dependiendo de los gustos del usuario, se permite la opción modo noche y el cambio de
                vista de reporte a compacta, estándar o cómoda.</p>

            <div class="flex center">
                                <div class="flex center"><a href="/docs/images/admin/night.png"  class="lightbox" title="Expandir imagen"  data-group=nightmode><div class="flex center mb2"> <img src="/docs/images/admin/night.png" alt="Modo noche y vista compacta en pantalla de Reporte" style="max-width: 600px; width:100%;"></div></a></div>            </div>

        </div>
    </main>

<hr class="mt8" /><hr/>

    <script src="/docs/js/tooltip.js"></script>
    <script src="/docs/js/scroll-top.js"></script>
    <script src="/docs/js/tobii.min.js"></script>
    <script>
      const tobii = new Tobii();
    </script>
</body>
</html>
    
<!DOCTYPE html>
<html lang="es">
<head>
    <meta name="robots" content="noindex">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>El core</title>
    <link rel="shortcut icon" href="/docs/images/favicon.png" type="image/png">
    <link rel="stylesheet" href="/docs/css/fonts.css">
    <link rel="stylesheet" href="/docs/css/colors.css">
    <link rel="stylesheet" href="/docs/css/layout.css">
    <link rel="stylesheet" href="/docs/css/styles.css">
    <link rel="stylesheet" href="/docs/css/solutions-style.css">

    <link rel="stylesheet" href="/docs/css/tooltip.css">
    <link rel="stylesheet" href="/docs/css/scroll-top.css">
    <link rel="stylesheet" href="/docs/css/tobii.min.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>

<header class="header"><h1 class="mw-content">El core</h1></header>
<main id="main-content">
<div class="content">

    
    <p>Llamamos <em>core</em> al servicio que desarrollamos para calcular las rutas de los médicos. Recibe el listado de
        puntos (pacientes y médicos) y las distancias entre estos via una API Rest; y devuelve el orden en que cada viajante
        debe recorrerlos. </p>
    <p>El core propone tres soluciones distintas en base a distintos criterios que se explicarán más adelante, para ser
        presentados al administrador web y que este pueda seleccionar la que mejor le parezca según el caso.</p>

    <h2>A continuación</h2>

    <ul>
        <li><a href="/docs/core/languages.html">Selección del lenguaje para el desarrollo del core</a></li>
        <li><a href="/docs/core/algorithm.html">El algoritmo genético</a></li>
        <li><a href="/docs/core/specs.html">Especificaciones técnicas</a></li>
        <li><a href="/docs/core/data.html">Análisis de datos obtenidos</a></li>
    </ul>




</div>


</main>

<hr class="mt8" /><hr/>

    <script src="/docs/js/tooltip.js"></script>
    <script src="/docs/js/scroll-top.js"></script>
    <script src="/docs/js/tobii.min.js"></script>
    <script>
      const tobii = new Tobii();
    </script>
</body>
</html>
    
<!DOCTYPE html>
<html lang="es">
<head>
    <meta name="robots" content="noindex">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Comparación de lenguajes</title>
    <link rel="shortcut icon" href="/docs/images/favicon.png" type="image/png">
    <link rel="stylesheet" href="/docs/css/fonts.css">
    <link rel="stylesheet" href="/docs/css/colors.css">
    <link rel="stylesheet" href="/docs/css/layout.css">
    <link rel="stylesheet" href="/docs/css/styles.css">
    <link rel="stylesheet" href="/docs/css/solutions-style.css">

    <link rel="stylesheet" href="/docs/css/tooltip.css">
    <link rel="stylesheet" href="/docs/css/scroll-top.css">
    <link rel="stylesheet" href="/docs/css/tobii.min.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>

<header class="header"><h1 class="mw-content">Comparación de lenguajes</h1></header><main id="main-content">
<div class="content">


    
    <p>Para la implementación de la metaheurística del viajante consideramos los siguientes lenguajes de programación:</p>
    <ul>
        <li>R</li>
        <li>Golang</li>
        <li>C++</li>
        <li>Python.</li>
    </ul>

    <p>La elección de estos lenguajes la hicimos pensando las distintas características de los mismos:</p>
    <ul>

        <li><b>R</b> es un lenguaje pensado para manejo de datos a gran escala, y estudio estadístico de los mismos. Tiene buena performance y es muy utilizado en machine learning.</li>
        <li><b>Go</b> es un lenguaje muy moderno, creado por Google adoptando las ventajas de C++, Java y Python. Por default es concurrente y provee “threads livianos” (Goroutines). Tiene una vasta documentación, y una sintaxis muy sencilla.</li>
        <li><b>C++</b> es un lenguaje multipropósito de alto nivel, muy eficiente y rápido. Nosotros desarrollamos nuestro programa utilizando las librerías de std, que permitieron un manejo a muy alto nivel, lo que implica que fue comparable en complejidad a Go o Python.</li>
        <li><b>Python</b> es otro lenguaje multipropósito, más sencillo que C++ en su sintaxis. Python es muy utilizado en machine learning y en una variedad de áreas del software. Las pruebas previas a este trabajo (para evaluar la viabilidad del proyecto) se hicieron en Python.</li>
    </ul>

    <h2>Comparación a nivel características del lenguaje</h2>
    <table>
        <thead>
        <tr>
            <th>Característica</th>
            <th>R</th>
            <th>Go</th>
            <th>C++</th>
            <th>Python</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <th>Tipo de lenguaje</th>
            <td>Funcional, procedural y Orientado a objetos (OOP)</td>
            <td>Procedural</td>
            <td>Orientado a objetos (OOP)</td>
            <td>Orientado a objetos (OOP)</td>
        </tr>
        <tr>
            <th>Manejo de memoria</th>
            <td>Tiene automatic garbage collection</td>
            <td>automatic garbage collection</td>
            <td>manejo manual de memoria</td>
            <td>automatic garbage collector</td>
        </tr>
        <tr>
            <th>Tipado</th>
            <td>Fuertemente y dinámicamente tipado</td>
            <td>Fuertemente tipado<br>Tipado estático</td>
            <td>Fuertemente y dinámicamente tipado.<br>Fuertemente TipadoTipado estático</td>
            <td>Tipado.<br>Tipado dinámico</td>
        </tr>
        <tr>
            <th>Forma de ejecución</th>
            <td>Interpretado</td>
            <td>Compilado</td>
            <td>Compilado</td>
            <td>Interpretado</td>
        </tr>
        <tr>
            <th>Concurrencia</th>
            <td>No de manera nativa.</td>
            <td>Incorporado a nivel del lenguaje: "Goroutines"</td>
            <td>Sí.</td>
            <td>Sí.</td>
        </tr>
        </tbody>
    </table>

    <h2>Pruebas ejecutadas</h2>

    <p>Implementamos el mismo pseudocódigo en los cuatro lenguajes. Planteamos cuatro escenarios de pruebas. La idea era poner a prueba cada lenguaje con la misma solución, para poder comparar los tiempos de ejecución. Los escenarios planteados fueron los siguientes, sobre el mismo set de datos:</p>
    <ol>
        <li>Generación de 100000 soluciones aleatorias para 3 viajantes.</li>
        <li>Puesta a prueba del motor de aleatoriedad generando 100000 soluciones aleatorias para 1, 2, 3, 4 y 5 viajantes, y recuento de soluciones repetidas en cada caso.</li>
        <li>Ordenamiento de 100000 soluciones por distancia total de las soluciones para 3 viajantes.</li>
        <li>Repetición de las pruebas anteriores y cálculo de una generación posterior mediante un algoritmo propio. Los pasos realizados son los siguientes:
        <ol>
            <li>Generación de 100000 soluciones aleatorias,</li>
            <li>Ordenamiento de las mismas,</li>
            <li>Generación de soluciones derivadas (hijas), para cada solución anterior + una solución aleatoria a elección (padre y madre),</li>
            <li>Ordenamiento de las soluciones hijas,</li>
            <li>Recuento de soluciones repetidas y</li>
            <li>Selección de la mejor solución.</li>
        </ol>
        Las soluciones hijas se conformaron siempre de la misma forma: para cada viajante se seleccionaron los puntos en común de las soluciones padres, y luego con una probabilidad escalonada se seleccionaron el resto de los puntos que pertenecían a alguno de los padres.
        </li>
    </ol>

    <h2>Resultados obtenidos</h2>
    <p>El <b>escenario 1</b> no presentó grandes diferencias entre los distintos lenguajes. Todas las ejecuciones llevaron menos de un segundo. Fue el primer acercamiento a algunos de los lenguajes elegidos. Agregamos que la implementación en R fue realizada dos veces: mediante loops y mediante la familia de funciones apply. La segunda fue mucho más rápida (y la que utilizamos de aquí en adelante).</p>
    <p>El <b>escenario 2</b> tampoco presentó diferencias entre los lenguajes. Los motores de aleatoriedad de los cuatro lenguajes fueron lo suficientemente capaces de generar 100000 soluciones únicas en todos los casos. Este escenario dejó en evidencia que el uso de funciones aleatorias en C++ necesita más desarrollo que en el resto de los lenguajes, puesto que para obtener un buen tiempo de ejecución es necesario utilizar motores de aleatoriedad fuera de las librerías básicas que trae el lenguaje.</p>
    <p>El <b>escenario 3</b> sirvió para comparar la complejidad de desarrollo de los distintos lenguajes, pero nuevamente, no presentó grandes diferencias entre los 4 lenguajes evaluados.</p>
    <p>El <b>escenario 4</b> fue el más complejo por ser una combinación de los anteriores, y es donde se notaron las diferencias en tiempos de ejecución. Este se midió siempre en la misma máquina, corriendo todos los programas sobre imágenes estándar de Docker, mediante el comando time de linux. Los resultados se muestran en la tabla a continuación.</p>

    <table>
        <thead>
        <tr>
            <th>Lenguaje</th>
            <th>R</th>
            <th>GO</th>
            <th>C++</th>
            <th>Python</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <th>Runtime del test</br>más complejo<br>(escenario 4)</th>
            <td>real 4m38,603s<br>user 0m3,378s<br>sys 0m8,669s</td>
            <td>real 0m12,765s<br>user 0m0,125s<br>sys 0m0,179s</td>
            <td>real 0m32,518s<br>user 0m18,730s<br>sys 0m9,845s</td>
            <td>real 0m34,567s<br>user 0m1,068s<br>sys 0m2,156s</td>
        </tr>
        <tr>
            <th>Valor redondeado</th>
            <td>~ 4 minutos</td>
            <td>~ 10 segundos</td>
            <td>~ 30 segundos</td>
            <td>~ 30 segundos</td>
        </tr>
        </tbody>
    </table>

    <p>El lenguaje que produjo la ejecución más rápida fue <b>Go</b>, seguido de <b>Python</b> y <b>C++</b>, por casi tres veces el mismo tiempo.</p>
    <p>El tiempo de ejecución del programa claramente es muy importante en la decisión del lenguaje a elegir, pero también lo es la complejidad de desarrollo en cada caso. La implementación de las pruebas para cada lenguaje llevó entre 2 y 4 días:</p>
    <ul>
        <li>Python llevó 2 días de desarrollo.</li>
        <li>Go llevó 3 días de desarrollo.</li>
        <li>C++ llevó un total de 4 días de desarrollo.</li>
        <li>Por último, R llevó 4 días por iteraciones, y 4 más refactorizando el código para utilizar la familia de funciones apply.</li>
    </ul>

    <p>El código de las pruebas realizadas está disponible para consulta en el repositorio de GitHub.</p>
    <p>En base a las pruebas realizadas, a las características del lenguaje, y a la complejidad de implementación en cada caso, tomamos la decisión de utilizar <b>Golang</b> para implementar nuestro algoritmo.</p>

<!--    -->    </div>
</main>
<hr class="mt8" /><hr/>

    <script src="/docs/js/tooltip.js"></script>
    <script src="/docs/js/scroll-top.js"></script>
    <script src="/docs/js/tobii.min.js"></script>
    <script>
      const tobii = new Tobii();
    </script>
</body>
</html>
    
<!DOCTYPE html>
<html lang="es">
<head>
    <meta name="robots" content="noindex">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>El algoritmo empleado</title>
    <link rel="shortcut icon" href="/docs/images/favicon.png" type="image/png">
    <link rel="stylesheet" href="/docs/css/fonts.css">
    <link rel="stylesheet" href="/docs/css/colors.css">
    <link rel="stylesheet" href="/docs/css/layout.css">
    <link rel="stylesheet" href="/docs/css/styles.css">
    <link rel="stylesheet" href="/docs/css/solutions-style.css">

    <link rel="stylesheet" href="/docs/css/tooltip.css">
    <link rel="stylesheet" href="/docs/css/scroll-top.css">
    <link rel="stylesheet" href="/docs/css/tobii.min.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
<header class="header"><h1 class="mw-content">El algoritmo genético empleado</h1></header>
<main id="main-content">


    <div class="content">
        
        <p>El algoritmo genético consta de las siguientes partes</p>
        <ol>
            <li><a href="#chromosome">Definición de cromosoma</a></li>
            <li><a href="#population">Tamaño de la población y cantidad de generaciones <span todo>Nuevo!</span></a></li>
            <li><a href="#first-gen">Armado de población inicial</a></li>
            <li><a href="#fitness">Definición de función de fitness</a></li>
            <li><a href="#parents">Selección de padres</a></li>
            <li><a href="#crossover">Crossover <span todo>Nuevo!</span></a></li>
            <li><a href="#mutation">Mutación <span todo>Nuevo!</span></a></li>
            <li><a href="#survivors">Selección de soluciones sobrevivientes</a></li>
            <li><a href="#end-criteria">Criterio de finalización</a></li>
            <li><a href="#more">Modificaciones al algoritmo<span todo>Nuevo!</span></a></li>
        </ol>

        <p>La definición de cada uno de estos pasos afecta el resultado final del algoritmo. A continuación detallamos nuestras decisiones en cada paso.</p>

        
<h2 id="chromosome">Definición de cromosoma</h2>
<p>La definición del cromosoma a utilizar en el algoritmo genético no es trivial. Ella condiciona los pasos siguientes del algoritmo genético, en tanto los crossovers y mutaciones deben operar sobre este cromosoma.</p>
    <p>Nuestra elección fue plantear de forma natural cada camino como una secuencia de visitas numeradas, desde inicio al fin. Entonces, para un viajante que sale del punto 0 y vuelve al punto 0, visitando los puntos <span class="mono">[1,2,3]</span> el cromosoma planteado es:</p>

<div class="solution flex">
    <div class="flex"><div class="circle medium-turquoise"><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>0</p></div></div></div>


<p>Extendiendo el ejemplo anterior, para dos viajantes, que parten del punto 0, pero regresan uno al punto 0 y el otro al punto 1, y recorren los puntos <span class="mono">[2,3]</span> y <span class="mono">[4,5]</span> respectivamente, el cromosoma planteado es:</p>

    <div class="solution flex wrap gap3">
        <div class="flex wrap mt3 mb3 space">  <p></p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>0</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> 
    </div>

<p>
    Esta representación de las rutas tiene la menor redundancia de soluciones en comparación a otros métodos de armado de cromosomas, es decir, un cromosoma no puede interpretarse como más que una única secuencia de rutas.
    <span data-toggletip>Basado en el paper "Genetic Algorithm for solving multiple traveling salesmen problem using a new crossover and population generation" (ver sección Bibliografía).</span>
</p>



<hr class="section-end"/>
<h2 id="population">Tamaño de la población y cantidad de generaciones</h2>    <p>Para el desarrollo del algoritmo se utilizó un set de datos y se ajustaron los parámetros de ejecución acorde a
        estos. Para una cantidad cercana a 20 visitas y dos viajantes, el desarrollo se hizo con una población de 200
        soluciones y cerca de 600 loops (parámetros que fueron variando a lo largo del desarrollo). Cuando el algoritmo
        estuvo completo y cambiamos el set de datos, notamos que estos números ya no eran útiles para resolver el
        problema.
        </p><p>El ejemplo más claro es el de un viajante con 5 visitas:
        la cantidad total de soluciones posibles (el espacio de soluciones disponible) en este caso es
        <span class="mono" aria-label="5 factorial igual a 120" title="5 factorial igual a 120">5!=120</span>,
        que nunca llega a completar nuestro valor esperado de 200 soluciones por generación.</p>
    <p>Al reducir el tamaño de la población notamos también que la cantidad fija de 600 de
        generaciones era desproporcionadamente grande. En efecto, pruebas empíricas demostraron que un total
        de 30 generaciones es suficiente para un viajante y hasta 10 visitas.</p>
    <p>Este descubrimiento nos llevó a pensar que lo mismo podía suceder en el caso contrario, con más viajantes y visitas
        que en nuestro caso de desarrollo. Decidimos encontrar de forma empírica los valores más adecuados para estos
        parámetros (teniendo en cuenta limitaciones de performance), puesto que no hay una regla definida respecto a
        estos en nuestro problema
        <span data-toggletip>Inspirado en el paper "Influence of the Population Size on the Genetic Algorithm
            Performance in Case of Cultivation Process Modelling" (ver sección Bibliografía).</span>.
    </p>


    <fieldset class="lessons">
        <legend>Lecciones aprendidas</legend>
    <div>
  <span class="lightbulb"></span>      <p>
            Los parámetros de ejecución dependen de la cantidad de elementos en las soluciones. No existe un <em>número
            mágico</em> para nuestro problema. El hecho de que nuestro problema esté poco estudiado y en consecuencia
            haya poca bibliografía específica implica que el descubrimiento de los mejores valores debió hacerse de forma
            <b>empírica</b> a través de distintas simulaciones.
        </p></div>
    </fieldset>
<p>
    Para más información sobre nuestro proceso de desarrollo en este aspecto, ver la sección
    <a href="/docs/core/data.html#execution-parameters?return=/docs/core/algorithm.html#population">Análisis de datos obtenidos</a>.
</p>
<!--<p>-->
<!--    Los datos empíricos obtenidos se pueden consultar en la sección Anexos. <span todo>hacer seccion anexos</span>-->
<!--</p>-->

<hr class="section-end"/>
<h2 id="first-gen">Armado de población inicial</h2>    <p>Dada <span class="mono">N</span> la cantidad de viajantes, se distribuyen las visitas en <span class="mono">N</span> rutas de forma <b>aleatoria</b> y se asignan a cada solución. Esto garantiza un pool genético grande, pero no soluciones buenas.</p>
    <p>El único criterio para la formación de las soluciones es mantener balanceada la cantidad de visitas por ruta.</p>
<hr class="section-end"/><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<h2 id="fitness">Definición de función de fitness</h2>
    <p>La función de fitness es la guía mediante la cual el algoritmo itera, aprende, y llega a una solución con las
        características deseadas.</p>
    <p>Dado que nuestro programa debía devolver tres propuestas de rutas con criterios distintos, fue necesario proponer
        tres variantes de funciones de fitness distintas para cumplir con este requerimiento.</p>
    <p>Nuestra función de fitness base es la siguiente:</p>
    <div class="math" aria-label="La función de fitness equivale a una fracción en la que el numerador es una constante C
    y el denominador
    es el costo relacionado a la distancia calculada, más un parámetro relacionado a la
    prioridad de los viajantes, más un parámetro relacionado a la validez de la solución y más un parámetro relacionado
    al balanceo de las visitas entre las rutas.">
        <math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
            <mi>fitness</mi> <mo>=</mo>
            <mrow>
                <mfrac>
                    <mrow>
                        <mi>C</mi>
                    </mrow>
                    <mrow>
                        <mi>p1</mi><mo>*</mo><mi>costo(distancia)</mi>
                        <mo>+</mo><mi>p2</mi><mo>*</mo><mi>costo(viajantes)</mi>
                        <mo>+</mo><mi>p3</mi><mo>*</mo><mi>costo(validez)</mi>
                        <mo>+</mo><mi>p4</mi><mo>*</mo><mi>costo(desbalanceo)</mi>
                    </mrow>
                </mfrac>
            </mrow>
        </math>
    </div>
    <p>Donde los costos por distancia, viajantes, validez y balanceo se calculan según el tipo de ejecución, y
    los parámetros <span mono>p1</span>, <span mono>p2</span>, <span mono>p3</span> y <span mono>p4</span> son parámetros
    predefinidos también por cada tipo de ejecución.</p>
    <p>Al estar el costo por distancia en el denominador, <em>el fitness crece cuanto mejor es la solución, es decir,
            cuanto menos distancia se recorre</em>.
        El costo por distancia es en realidad una relación entre el valor real de la distancia de la solución, y el
        costo de la peor solución en la misma generación. Esto lo hacemos para garantizar un
        valor menor o igual a 1, independientemente de la cantidad de visitas que tengamos que procesar.
        Multiplicamos por una constante <span mono>C</span> que se define como la suma de los parámetros
        <span mono>p1</span>, <span mono>p2</span>, <span mono>p3</span> y <span mono>p4</span>, de forma de
        normalizar los posibles resultados.
    </p>
    <p>Se ajustan los parámetros de la función según cualquiera de los siguientes tres casos:</p>
    <ol>
        <li>Todos los viajantes participan obligatoriamente, las rutas son balanceadas, no tenemos viajantes con prioridad</li>
        <li>El algoritmo decide qué viajantes participan de la solución final elegida, y cuántas visitas realizan. No
            tenemos viajantes con prioridad.</li>
        <li>Existe un costo por usar un grupo u otro de viajantes (parte del plantel estable de la empresa, o externos).
            El algoritmo decide si incluirlos, y cuántas visitas asignarles.</li>
    </ol>
    <br/>


    <fieldset class="lessons">
        <legend>Lecciones aprendidas</legend>
    <div>
  <span class="lightbulb"></span>      <p>
            Nuestro enfoque inicial fue condicionar nuestras soluciones
            para permitir únicamente aquellas que cumplieran con las restricciones del problema del viajante entre ellas:
            <em>todos los puntos deben ser visitados una única vez</em>. Luego entendimos que permitir esta falla en
            nuestras rutas podía brindarle <b>variedad</b> a nuestro algoritmo, por lo que posteriormente reescribimos el código
            e incluimos esta validación <b>dentro de nuestras funciones de fitness bajo una gran penalidad</b> (costo por validez).
        </p>
        <p>
            Permitir soluciones teóricamente incorrectas significa que, durante la ejecución del programa, soluciones en
            las que algunas visitas se repitieron u otras no existieron, formaron parte del pool genético de alguna generación.
        </p>
        <p>
            Si bien este tipo de soluciones no fueron nunca elegidas como la solución ganadora, esto <b>permitió que estas
                soluciones propagaran su material genético, y contribuyeran también a un resultado final más rico genéticamente</b>.
        </p></div>
    </fieldset>

    <h3>Caso 1: todos los viajantes participan obligatoriamente, las rutas son balanceadas, no tenemos viajantes con prioridad</h3>
    <p>Para este caso, el fitness de una solución viene dado por los siguientes parámetros:</p>
    <ul>
        <li><span class="math-font">costo por distancia</span>: el costo de la solución, en el que se miden todas las distancias recorridas entre los puntos de las rutas</li>
        <li><span class="math-font">costo por viajantes</span>: en este caso es cero, porque no consideramos viajantes con prioridad todavía</li>
        <li><span class="math-font">costo por validez</span>: este valor es cero si la solución tiene todas las visitas una única vez, y crece en tanto
            las visitas se repitan, o falten, en una solución</li>
        <li><span class="math-font">costo por desbalanceo</span>: para este caso, este parámetro crece si las rutas tienen más o menos visitas que el promedio.
            Es decir, si tengo dos rutas que comparten 10 visitas, la solución será más balanceada en tanto la cantidad de visitas
        por ruta se asemeje a 5, y menos balanceada en tanto suceda lo contrario.</li>
    </ul>

    <h3>Caso 2: los viajantes no participan obligatoriamente, las rutas no necesariamente son balanceadas, no tenemos viajantes con prioridad</h3>
    <p>Para este caso, el fitness de una solución viene dado por los siguientes parámetros:</p>
    <ul>
        <li><span class="math-font">costo por distancia</span>: el costo de la solución, en el que se miden todas las distancias recorridas entre los puntos de las rutas</li>
        <li><span class="math-font">costo por viajantes</span>: en este caso es cero, porque no consideramos viajantes con prioridad todavía</li>
        <li><span class="math-font">costo por validez</span>: este valor es cero si la solución tiene todas las visitas una única vez, y crece en tanto
            las visitas se repitan, o falten, en una solución</li>
        <li><span class="math-font">costo por desbalanceo</span>: se penalizan aquellas soluciones que propongan rutas muy largas
        y por ello difíciles de realizar por los médicos. El límite de visitas elegido por ruta es 18.</li>
    </ul>

    <h3>Caso 3: los viajantes no participan obligatoriamente, las rutas no necesariamente son balanceadas, tenemos viajantes con prioridad</h3>
    <p>Para este caso, el fitness de una solución viene dado por los siguientes parámetros:</p>
    <ul>
        <li><span class="math-font">costo por distancia</span>: el costo de la solución, en el que se miden todas las distancias recorridas entre los puntos de las rutas</li>
        <li><span class="math-font">costo por viajantes</span>: un valor que crece conforme se utilizan viajeros externos en
        las rutas para penalizarlo</li>
        <li><span class="math-font">costo por validez</span>: este valor es cero si la solución tiene todas las visitas una única vez, y crece en tanto
            las visitas se repitan, o falten, en una solución</li>
        <li><span class="math-font">costo por desbalanceo</span>: se penalizan aquellas soluciones que propongan rutas muy largas
        y por ello difíciles de realizar por los médicos. El límite de visitas elegido por ruta es 18.</li>
    </ul>

<hr class="section-end"/>
<h2 id="parents">Selección de padres</h2>    <h3>Aleatoria</h3>
    <p>Se seleccionan dos padres de la generación anterior de forma aleatoria. No se pone ningún criterio extra para elegir un padre bueno o malo. De esta manera, se permite que todas las soluciones que sobrevivieron la generación anterior tengan probabilidad de procrear.</p>
    <p>La idea detrás de esto, es que no podemos saber de antemano qué combinaciones van a dar los mejores hijos, entonces se permiten todas.</p>
    <h3>Por fitness para uno de los padres</h3>
    <p>Con una probabilidad baja permitimos una selección de padres en la que nos aseguramos que al menos uno de los padres tenga buen fitness. Tomamos uno de los padres del mejor 10% de las soluciones, y el otro de forma aleatoria. Esto lo hicimos a modo de prueba para evaluar la incidencia en el resultado final.</p>

<p todo> armar graficos comparativos</p>

<hr class="section-end"/>

<h2 id="crossover">Crossover</h2>
    <p>El crossover es un punto fundamental del algoritmo genético. La elección del mismo afecta el desarrollo y los resultados de la ejecución.</p>
    <p>Para nuestro problema, un problema de optimización de rutas, implementamos cuatro crossovers distintos. Los crossovers elegidos cumplen con distintas condiciones:</p>
    <ol><li><a href="#mbs">MixByShared</a></li><li><a href="#cx">Cycle Crossover</a></li><li><a href="#pmx">Partially mapped Crossover</a></li><li><a href="#eer">Enhanced Edge Recombination</a></li></ol>

<!--    <h3 id="mbs">MixByShared (MBS)</h3>-->
    <h3 id="mbs">MixByShared</h3>        <p>Desarrollamos este algoritmo para la prueba de comparación de lenguajes. Nos pareció interesante dejarlo para el
        proyecto final, por tener un enfoque distinto a los demás algoritmos que encontramos en los papers.</p>
    <p>Dadas dos soluciones padres, P0 y P1, analizamos las visitas de cada ruta y marcamos aquellas que corresponden
        siempre a la misma ruta, y aquellas que en ambos padres pertenecen a rutas distintas, por ejemplo:</p>

    <div class="crossover"><div class="flex wrap mt3 mb3 space">  <p>P0</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> <div class="flex wrap mt3 mb3 space">  <p>P1</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> </div>
    <p>Agrupamos dichas visitas para poder armar las soluciones hijas:</p>

    <div class="crossover"><div class="flex mt3 mb3 gap3"><div><div class="flex"><div class="circle yellow-crayola">1</div><div class="circle dark">2</div><div class="circle yellow-crayola">3</div><div class="circle yellow-crayola">4</div></div><div class="underline-light">viajante A</div></div><div><div class="flex"><div class="circle dark">2</div><div class="circle light-coral">5</div><div class="circle light-coral">6</div><div class="circle light-coral">7</div><div class="circle light-coral">8</div></div><div class="underline-light">viajante B</div></div></div></div>
    <p>Para el viajante 1, los puntos en amarillo están repetidos en ambas soluciones padres,</p>
    <p>Para el viajante 2, los puntos en rojo están repetidos en ambas soluciones padres,</p>
    <p>Los puntos en negro no pertenecen a alguno de los viajantes en particular, sino que, dadas las soluciones padres,
        pueden pertenecer a cualquiera de las rutas de los viajantes.</p>
    <p>Nuestro algoritmo hereda los puntos compartidos por los padres a las soluciones hijas, y distribuye los puntos
        no compartidos entre las soluciones hijas de manera aleatoria.</p>
    <p>Finalmente se modifica el orden de las rutas <s>aleatoriamente también</s><span todo>mediante el siguiente algoritmo:</span></p>
    <ul todo>
        <li>
            se elige una visita de la ruta de forma aleatoria,
        </li>
        <li>
            de las visitas restantes dentro de la misma ruta, se selecciona para continuar la secuencia aquella que se encuentre a menor distancia de
            la visita elegida anteriormente
        </li>
        <li>se repite hasta elegir todas las visitas.</li>
    </ul>

    <p>Los siguientes son posibles resultados del algoritmo MBS, dadas las soluciones iniciales presentadas.</p>

    <div class="crossover"><div class="flex wrap mt3 mb3 space">  <p>H0</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> <div class="flex wrap mt3 mb3 space">  <p>H1</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> <div class="flex wrap mt3 mb3 space">  <p>H2</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> <div class="flex wrap mt3 mb3 space">  <p>H3</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> </div>
    <p>El resultado del algoritmo son soluciones en las que siempre, todas las visitas de todas las rutas de las soluciones hijas pertenecen a la misma ruta de alguno de los dos padres.</p>
    <p><b>MBS mantiene entonces la asignación de las visitas a las rutas originales, pero no el orden de los mismos, o su posición inicial.</b></p>

<div class="align-left mt3"><a href="#crossover">Volver a Crossover <i class="fa-solid fa-arrow-up"></i></a></div><h3 id="cx">Cycle Crossover</h3>
<!--    <h3 id="cx">Cycle Crossover (CX)</h3>-->
        <p>Este algoritmo fue propuesto por IM Oliver en el paper <em>A Study of permutation crossover Operators on the Traveling Salesman Problem</em>. El algoritmo original está planteado para el problema del viajante (con una única ruta), y su finalidad es encontrar ciclos (partes intercambiables) entre secuencias de visitas. De no encontrar ciclos, no es posible generar soluciones nuevas. Esto sucederá en general para secuencias de visitas cortas.</p>
    <p>Para aplicar este algoritmo a nuestro problema fue necesario implementar adaptaciones, puesto que no se cumplen las mismas condiciones:</p>
    <p>En el algoritmo de Cycle Crossover original se cruzan dos rutas de igual tamaño, con iguales puntos de visita en diferente orden. En nuestro caso, las rutas <b>no necesariamente cumplen esas condiciones</b>: una visita puede estar en la ruta de uno de los padres, y no estarlo en la ruta equivalente del otro padre.</p>
    <p>A continuación presentamos los pasos del algoritmo CX adaptado a nuestro problema. Sean las siguientes nuestras soluciones iniciales:</p>

    <div class="crossover"><div class="flex wrap mt3 mb3 space">  <p>P0</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> <div class="flex wrap mt3 mb3 space">  <p>P1</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> </div>
    <p>Obtendremos de las mismas unas soluciones temporales, en las que sólo  tengamos los puntos que se repiten entre ambas rutas:</p>
    <div class="crossover"><div class="flex wrap mt3 mb3 space">  <p>P0</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> <div class="flex wrap mt3 mb3 space">  <p>P1</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> </div>    <p>Luego se aplica CX a cada una de las rutas. Los ciclos obtenidos para este ejemplo son los siguientes:</p>

    <div class="crossover"><div class="mt3 mb3"><div class="flex wrap gap3 mb2">  <div><div class="flex"><div class="circle light"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>A1</p></div></div><div class="flex"><div class="circle light"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>A1</p></div></div>  <div class="underline-light">viajante A</div>  </div>  <div><div class="flex"><div class="circle light"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>B1</p></div></div><div class="flex"><div class="circle light"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>B1</p></div></div>  <div class="underline-light">viajante B</div>  </div></div></div></div>
    <p>Estos ciclos representan visitas que pueden ser intercambiables manteniendo la integridad de las rutas. Las
        soluciones finales se forman a partir de un padre, y al menos un intercambio en las rutas según los ciclos encontrados, por ejemplo:</p>
    <div class="crossover"><div><div class="flex wrap mt3 mb3 space">  <p>H0</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> <div class="flex wrap mt3 mb3 space">  <p>H1</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> <div class="flex wrap mt3 mb3 space">  <p>H2</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> <div class="flex wrap mt3 mb3 space">  <p>H3</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> </div></div>
    <p>Cycle crossover es un algoritmo que <b>mantiene las posiciones originales de las visitas de los padres en las
            soluciones hijas</b> (sea de uno, u otro padre).</p>
    <p>Al modificarlo para aplicarlo a nuestro problema, mantenemos el orden relativo, pero no las posiciones originales
        necesariamente, puesto que las visitas no compartidas mantienen su posición original dentro de la ruta.</p>

<div class="align-left mt3"><a href="#crossover">Volver a Crossover <i class="fa-solid fa-arrow-up"></i></a></div><h3 id="pmx">Partially mapped Crossover</h3>
<!--    <h3 id="pmx">Partially mapped crossover (PMX)</h3>-->
    
    <p>Este algoritmo fue propuesto por D. Goldberg y R. Lingle en el paper <em>Alleles, loci, and the Traveling Salesman Problem.</em></p>
    <p>Este algoritmo mantiene una subsección de la ruta original de uno de los padres, y acomoda el resto de las visitas
        según el orden relativo dentro del otro padre.</p>
    <p>Nuevamente, <b>este algoritmo no se puede aplicar exactamente en nuestro caso</b>, puesto que las dos rutas a cruzar
        no tienen necesariamente los mismos elementos. Una opción es tomar subrutas con los puntos compartidos, como aplicamos
        en Cycle Crossover. Otra opción es aplicar el algoritmo con las rutas como están, lo que resultará en soluciones incompletas.
        Decidimos ir por este camino para darle variedad a las soluciones obtenidas.</p>
    <p>Los pasos son los siguientes:</p>

    <ol>
        <li>Seleccionamos dos soluciones como padres, y seleccionamos una parte de cada ruta para intercambiar.</li>
        <li>Esas partes que seleccionamos se heredan directamente a las soluciones hijas.</li>
        <li>Mapeamos los reemplazos de las visitas dentro de las partes seleccionadas.</li>
        <li>Se completa cada solución hija con el resto de las visitas del padre alterno. Si la visita a heredar está en
            el mapa, se reemplaza por el valor indicado, sino se hereda directamente.</li>
    </ol>

    <p>A continuación presentamos un ejemplo. Partimos de las siguientes soluciones, y elegimos las partes a heredar enteras.
        Para la ruta del viajante A elegimos los índices 2 a 3, y para el viajante B los índices 1 al 3.</p>

    <div class="crossover"><div class="flex wrap mt3 mb3 space">  <p>P0</p>  <div class="flex wrap gap3"> <div>    <div class="flex"><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div></div><i class="icono-arrow1-left"></i><div class="subroute-dark"><div class="flex"><div class="circle light"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div></div></div><i class="icono-arrow1-left"></i><div class="flex"><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>  </div>    <div class="underline-light">viajante A    </div> </div> <div>    <div class="flex"><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div></div><i class="icono-arrow1-left"></i><div class="subroute-dark"><div class="flex"><div class="circle light-coral"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>7</p></div></div></div><i class="icono-arrow1-left"></i><div class="flex"><div class="circle light-coral"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>  </div>    <div class="underline-light">viajante B    </div> </div>  </div></div> <div class="flex wrap mt3 mb3 space">  <p>P1</p>  <div class="flex wrap gap3"> <div>    <div class="flex"><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div></div><i class="icono-arrow1-left"></i><div class="subroute-dark"><div class="flex"><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div></div></div><i class="icono-arrow1-left"></i><div class="flex"><div class="circle medium-turquoise"><p>A1</p></div></div>  </div>    <div class="underline-light">viajante A    </div> </div> <div>    <div class="flex"><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div></div><i class="icono-arrow1-left"></i><div class="subroute-dark"><div class="flex"><div class="circle light-coral"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>2</p></div></div></div><i class="icono-arrow1-left"></i><div class="flex"><div class="circle light-coral"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>  </div>    <div class="underline-light">viajante B    </div> </div>  </div></div> </div>
    <p>Generamos el mapa de reemplazo. En este caso es el siguiente:</p>

    <div class="crossover"><div class="flex gap3 mb3"><div><div class="flex"><div class="circle yellow-crayola"><p>2</p></div><div class="circle yellow-crayola"><p>1</p></div></div><div class="underline-light">viajante A</div></div><div><div class="flex"><div class="circle light-coral"><p>5</p></div><div class="circle light-coral"><p>2</p></div></div><div class="underline-light">viajante B</div></div></div></div>
    <p>Procedemos a heredar las sub rutas marcadas en negro de forma cruzada: vamos a combinar las sub rutas de un padre con el resto de visitas del otro padre.</p>

    <div class="crossover"><div class="flex wrap mt3 mb3 space">  <p>Subruta de P0</p>  <div class="flex wrap gap3"> <div>    <div class="flex"><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p></p></div></div><i class="icono-arrow1-left"></i><div class="subroute-dark"><div class="flex"><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div></div></div><i class="icono-arrow1-left"></i><div class="flex"><div class="circle yellow-crayola"><p></p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>  </div>    <div class="underline-light">viajante A    </div> </div> <div>    <div class="flex"><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div></div><i class="icono-arrow1-left"></i><div class="subroute-dark"><div class="flex"><div class="circle light-coral"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>2</p></div></div></div><i class="icono-arrow1-left"></i><div class="flex"><div class="circle light-coral"><p></p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>  </div>    <div class="underline-light">viajante B    </div> </div>  </div></div> <div class="flex wrap mt3 mb3 space">  <p>Resto de P1</p>  <div class="flex wrap gap3"> <div>    <div class="flex"><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div></div><i class="icono-arrow1-left"></i><div class="subroute-dark"><div class="flex"><div class="circle yellow-crayola"><p></p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p></p></div></div></div><i class="icono-arrow1-left"></i><div class="flex"><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>  </div>    <div class="underline-light">viajante A    </div> </div> <div>    <div class="flex"><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div></div><i class="icono-arrow1-left"></i><div class="subroute-dark"><div class="flex"><div class="circle light-coral"><p></p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p></p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p></p></div></div></div><i class="icono-arrow1-left"></i><div class="flex"><div class="circle light-coral"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>  </div>    <div class="underline-light">viajante B    </div> </div>  </div></div> <hr/><div class="flex wrap mt3 mb3 space">  <p>Resultado H0</p>  <div class="flex wrap gap3"> <div>    <div class="flex"><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div></div><i class="icono-arrow1-left"></i><div class="subroute-dark"><div class="flex"><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div></div></div><i class="icono-arrow1-left"></i><div class="flex"><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>  </div>    <div class="underline-light">viajante A    </div> </div> <div>    <div class="flex"><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div></div><i class="icono-arrow1-left"></i><div class="subroute-dark"><div class="flex"><div class="circle light-coral"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>2</p></div></div></div><i class="icono-arrow1-left"></i><div class="flex"><div class="circle light-coral"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>  </div>    <div class="underline-light">viajante B    </div> </div>  </div></div> </div>    <p>El proceso es el siguiente para la ruta A0:</p>
    <ol>
        <li>Intentamos completar la primer visita de A0. Según el resto de P1, debemos utilizar la visita 1, pero esta se encuentra en el mapa, y debe ser reemplazada por la visita 2. </li>
        <li>Completamos las posiciones 2 y 3 de la ruta A0 según la selección en de P0.</li>
        <li>Intentamos completar la posición 4 según el resto de P1. La visita a utilizar es la 4, que no está en el mapa, por lo que puede ser utilizada.</li>
    </ol>
    <p>Luego, el proceso es el siguiente para la ruta B0:</p>
    <ol>
        <li>Heredamos las visitas 7, 6 y 2 de la ruta B0 de P0.</li>
        <li>Intentamos completar la posición 4 según el resto de P1. La visita a utilizar es la 8, que no está en el mapa, por lo que puede ser utilizada.</li>
    </ol>

    <p>De la misma forma, generamos otra solución hija intercambiando las visitas de forma contraria.</p>
    <div class="crossover"><div class="flex wrap mt3 mb3 space">  <p>Subruta de P1</p>  <div class="flex wrap gap3"> <div>    <div class="flex"><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p></p></div></div><i class="icono-arrow1-left"></i><div class="subroute-dark"><div class="flex"><div class="circle light"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div></div></div><i class="icono-arrow1-left"></i><div class="flex"><div class="circle medium-turquoise"><p>A1</p></div></div>  </div>    <div class="underline-light">viajante A    </div> </div> <div>    <div class="flex"><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div></div><i class="icono-arrow1-left"></i><div class="subroute-dark"><div class="flex"><div class="circle light-coral"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>7</p></div></div></div><i class="icono-arrow1-left"></i><div class="flex"><div class="circle light-coral"><p></p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p></p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>  </div>    <div class="underline-light">viajante B    </div> </div>  </div></div> <div class="flex wrap mt3 mb3 space">  <p>Resto de P0</p>  <div class="flex wrap gap3"> <div>    <div class="flex"><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div></div><i class="icono-arrow1-left"></i><div class="subroute-dark"><div class="flex"><div class="circle yellow-crayola"><p></p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p></p></div></div></div><i class="icono-arrow1-left"></i><div class="flex"><div class="circle medium-turquoise"><p>A1</p></div></div>  </div>    <div class="underline-light">viajante A    </div> </div> <div>    <div class="flex"><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div></div><i class="icono-arrow1-left"></i><div class="subroute-dark"><div class="flex"><div class="circle light-coral"><p></p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p></p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p></p></div></div></div><i class="icono-arrow1-left"></i><div class="flex"><div class="circle light-coral"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>  </div>    <div class="underline-light">viajante B    </div> </div>  </div></div> <hr/><div class="flex wrap mt3 mb3 space">  <p>Resultado H1</p>  <div class="flex wrap gap3"> <div>    <div class="flex"><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div></div><i class="icono-arrow1-left"></i><div class="subroute-dark"><div class="flex"><div class="circle light"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div></div></div><i class="icono-arrow1-left"></i><div class="flex"><div class="circle medium-turquoise"><p>A1</p></div></div>  </div>    <div class="underline-light">viajante A    </div> </div> <div>    <div class="flex"><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div></div><i class="icono-arrow1-left"></i><div class="subroute-dark"><div class="flex"><div class="circle light-coral"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>7</p></div></div></div><i class="icono-arrow1-left"></i><div class="flex"><div class="circle light-coral"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>  </div>    <div class="underline-light">viajante B    </div> </div>  </div></div> </div>
    <p>Como puede verse en las soluciones hijas, ambas repiten la visita "2". La primera solución no tiene la visita "1",
        y la segunda no tiene la visita "5".</p>
    <p>Esto es algo que originalmente intentamos evitar, pero luego al investigar un poco más, concluímos que era una buena
        idea que sucediera: de esta forma el algoritmo puede explorar las rutas de forma menos restrictiva. La función de
        fitness penaliza este tipo de soluciones incompletas, por lo que nunca puede ser elegida como la mejor solución,
        pero sí puede contribuir a generar mejores soluciones mezclándose con otras soluciones de la generación.</p>

    <p>Este crossover distinto a los anteriores, en tanto <b>propaga un segmento de la ruta original, y completa el resto con ubicaciones relativas</b>.</p>

<div class="align-left mt3"><a href="#crossover">Volver a Crossover <i class="fa-solid fa-arrow-up"></i></a></div><h3 id="eer">Enhanced Edge Recombination</h3>
<!--    <h3 id="eer">Enhanced edge recombination (EER)</h3>-->
    
    <p>En distintos papers encontramos el algoritmo Edge recombination, que mantiene la información de adyacencia entre
        las visitas, pero descarta el orden de los elementos, es decir propaga las <b>conexiones</b> entre visitas.
        Enhanced edge recombination es una variante de Edge recombination, en la que se retiene también el orden de los elementos al
        preservar sub secuencias comunes a ambos padres. <span data-toggletip>Del paper "A comparison of Genetic Sequencing Operators" (ver sección Bibliografía).</span>
    </p>
    <p>El algoritmo no puede aplicarse directamente en nuestro caso dado que el mismo considera una única ruta por solución en
        la que todos los elementos de ambos padres están representados. En nuestro caso, y nuevamente por tener las visitas
        distribuidas en distintas rutas, no podemos asegurar que las sub rutas compartan siempre todos sus elementos.</p>
    <p>Para poder ejecutar este algoritmo, procedimos a adaptar nuestro problema concatenando las visitas de las distintas
        rutas en una única secuencia de visitas. Luego aplicamos el algoritmo según la bibliografía, y volvimos a separar
        las rutas respetando la cantidad de visitas de alguno de los padres elegido al azar.</p>
    <p>A continuación presentamos un ejemplo:</p>

    <div class="crossover"><div class="flex wrap mt3 mb3 space">  <p>P0</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> <div class="flex wrap mt3 mb3 space">  <p>P1</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> </div>    <p>Generamos rutas temporales, en las que quitamos los bordes y concatenamos las visitas de la siguiente forma:</p>
    <div class="crossover"><div class="flex"><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>8</p></div></div><div class="flex"><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle light-coral"><p>5</p></div></div></div>
    <p>Una vez obtenida la ruta concatenada procedemos a generar el mapa de adyacencias, marcando con un signo menos aquellas adyacencias que estén en ambas rutas:</p>
    <div class="crossover"><div class="flex gap3" style="flex-wrap: wrap; column-gap: 2em;justify-content: space-between;align-items: baseline;"><div class="flex mb2" style="align-items: baseline;"><div class="circle"><p>1</p></div><i class="icono-arrow1-left"></i><div><div class="circle"><p>2</p></div><div class="circle"><p>3</p></div><div class="circle"><p>7</p></div></div></div><div class="flex mb2" style="align-items: baseline;"><div class="circle"><p>2</p></div><i class="icono-arrow1-left"></i><div><div class="circle"><p>1</p></div><div class="circle"><p>3</p></div><div class="circle"><p>6</p></div><div class="circle"><p>8</p></div></div></div><div class="flex mb2" style="align-items: baseline;"><div class="circle"><p>3</p></div><i class="icono-arrow1-left"></i><div><div class="circle"><p>2</p></div><div class="circle"><p>-4</p></div><div class="circle"><p>1</p></div></div></div><div class="flex mb2" style="align-items: baseline;"><div class="circle"><p>4</p></div><i class="icono-arrow1-left"></i><div><div class="circle"><p>-3</p></div><div class="circle"><p>5</p></div></div></div><div class="flex mb2" style="align-items: baseline;"><div class="circle"><p>5</p></div><i class="icono-arrow1-left"></i><div><div class="circle"><p>4</p></div><div class="circle"><p>6</p></div><div class="circle"><p>8</p></div></div></div><div class="flex mb2" style="align-items: baseline;"><div class="circle"><p>6</p></div><i class="icono-arrow1-left"></i><div><div class="circle"><p>2</p></div><div class="circle"><p>5</p></div><div class="circle"><p>-7</p></div></div></div><div class="flex mb2" style="align-items: baseline;"><div class="circle"><p>7</p></div><i class="icono-arrow1-left"></i><div><div class="circle"><p>1</p></div><div class="circle"><p>-6</p></div><div class="circle"><p>8</p></div></div></div><div class="flex mb2" style="align-items: baseline;"><div class="circle"><p>8</p></div><i class="icono-arrow1-left"></i><div><div class="circle"><p>2</p></div><div class="circle"><p>5</p></div><div class="circle"><p>7</p></div></div></div></div></div>
    <p>Se elije un punto de inicio, en general el inicio de alguna de las dos rutas, y luego se van seleccionando las adyacencias según el mapa: las negativas tienen primera prioridad, y luego, aquellas cuyas adyacencias tengan menos enlaces disponibles.</p>
    <p>Por ejemplo, de partir del "3", la primera prioridad sería el "4" porque tiene un signo menos (está en ambas rutas), luego el "1" porque tiene 3 adyacencias, y por último el "2" porque tiene 4 adyacencias.</p>
    <p>Cada vez que se selecciona una visita se actualiza el mapa quitándola de todas sus adyacencias.</p>
    <p>Si no hay adyacencia para continuar, pero quedan elementos en el mapa, se elige uno al azar y se vuelve a comenzar.</p>

    <p>Empezando desde el "1" y manteniendo la distribución del padre 1, las siguientes son posibles soluciones finales:</p>

    <div class="crossover"><div class="flex wrap mt3 mb3 space">  <p>H0</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> <div class="flex wrap mt3 mb3 space">  <p>H1</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> <div class="flex wrap mt3 mb3 space">  <p>H2</p>  <div class="flex wrap gap3"> <div><div class="flex"><div class="circle medium-turquoise"><p>A0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>A1</p></div></div>    <div class="underline-light">viajante A    </div> </div> <div><div class="flex"><div class="circle medium-turquoise"><p>B0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle dark"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>8</p></div><i class="icono-arrow1-left"></i><div class="circle medium-turquoise"><p>B1</p></div></div>    <div class="underline-light">viajante B    </div> </div>  </div></div> </div>
<div class="align-left mt3"><a href="#crossover">Volver a Crossover <i class="fa-solid fa-arrow-up"></i></a></div>


<hr class="section-end"/>

<h2 id="mutation">Mutación</h2>
    <p>
        Dentro del algoritmo genético, el proceso de mutación evita que las soluciones obtenidas se concentren todas en
        un mismo óptimo local. Las mutaciones insertan diversidad, incorporando estructuras genéticas nuevas a la población.
    </p>

    <p>Las siguientes son las distintas mutaciones que aplicamos en la ejecución de nuestro algoritmo genético.</p>

    <ol><li><a href="#dm">TWORS/Displacement mutation (<abbr title="Displacement Mutation">DM</abbr>)</a></li><li><a href="#rsm">Reverse sequence mutation (<abbr title="Reverse Sequence Mutation">RSM</abbr>)</a></li><li><a href="#psm">Partially shuffled mutation (<abbr title="Partially Shuffled Mutation">PSM</abbr>)</a></li><li><a href="#jm">Jump mutation (<abbr title="Jump Mutation">JM</abbr>)</a></li><li><a href="#jdm">Jump displacement mutation (<abbr title="Jump Displacement Mutation">JDM</abbr>)</a></li><li><a href="#jrsm">Jump reverse sequence mutation (<abbr title="Jump Reverse Sequence Mutation">JRSM</abbr>)</a></li><li><a href="#jpsm">Jump partially shuffled mutation (<abbr title="Jump Partially Shuffled Mutation">JPSM</abbr>)</a></li><li><a href="#erm">Empty route mutation <span todo>Nuevo!</span> (<abbr title="Empty Route Mutation">ERM</abbr>)</a></li><li><a href="#rem">Reduce Entropy Mutation <span todo>Nuevo!</span> (<abbr title="Reduce Entropy Mutation">REM</abbr>)</a></li></ol>
    <p>Las primeras tres mutaciones mencionadas fueron obtenidas de la bibliografía <span data-toggletip>En especial,
        de estos papers: "Analyzing the Performance of Mutation Operators to Solve the Traveling Salesman Problem",
        y "Genetic Algorithms for the Traveling Salesman Problem: A Review of Representations and Operations".</span>
        y son muy conocidas dentro del tema, por lo que su explicación no será detallada en profundidad este informe.
    </p>
    <p>Las siguientes cuatro mutaciones son adaptaciones que realizamos de las mutaciones anteriores, considerando nuestro
        problema de múltiples viajeros con distintas rutas.
    </p>
    <p todo>Las últimas mutaciones (<a href="#erm"><abbr title="Empty Route Mutation">ERM</abbr></a> y <a href="#rem"><abbr title="Reduce Entropy Mutation">REM</abbr></a>) fueron agregadas para ayudar al algoritmo en
        casos especiales.</p>


    <p todo>Las mutaciones se aplican a cada solución, si el rate de mutación se cumple. Esto implica que por cada solución a mutar
        podemos obtener hasta 8 variantes, que luego serán seleccionadas o descartadas según el <a href="#survivors">criterio de supervivencia</a>.</p>
<!--    <p todo>En realidad estoy pensando en dirigir las mutaciones según los mejores resultados. graficar</p>-->

    <h3 id="dm">TWORS/Displacement mutation (<abbr title="Displacement Mutation">DM</abbr>)</h3><!--    <h3 id="dm">TWORS/Displacement mutation (DM)</h3>-->
        <p>Se intercambia la posición de dos visitas en una misma ruta dentro de un cromosoma, elegidas de forma aleatoria.
        Se presenta un ejemplo para clarificar la aplicación de esta mutación:</p>
    <p>Secuencia de visitas antes de la mutación:</p>
      <div class="mutation"><div class="flex"><div class="circle light"><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>4</p></div></div></div>    <p>Secuencia de visitas después de la mutación <a href="#dm"><abbr title="Displacement Mutation">DM</abbr></a>:</p>
      <div class="mutation"><div class="flex"><div class="circle light"><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>4</p></div></div></div>
    <p>Para más información ver la <a href="/docs/literature.html">Bibliografía</a>.</p>
    <div class="align-left mt3"><a href="#mutation">Volver a Mutación <i class="fa-solid fa-arrow-up"></i></a></div>    <h3 id="rsm">Reverse sequence mutation (<abbr title="Reverse Sequence Mutation">RSM</abbr>)</h3>
<!--    <h3 id="rsm">RSM - Reverse sequence mutation</h3>-->
    <p>En este caso, se trata de seleccionar una sub secuencia dentro de una ruta en un cromosoma, e invertir el orden de
        la misma. Por ejemplo, dada la secuencia:</p>
      <div class="mutation"><div class="flex"><div class="circle light"><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>5</p></div></div></div>    <p>Una posible mutación es invertir los ítems <span class="mono">1,2,3</span> de manera que la secuencia final sea la siguiente:</p>
      <div class="mutation"><div class="flex"><div class="circle light"><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>5</p></div></div></div>    <p>Para más información ver la <a href="/docs/literature.html">Bibliografía</a>.</p>
<div class="align-left mt3"><a href="#mutation">Volver a Mutación <i class="fa-solid fa-arrow-up"></i></a></div><h3 id="psm">Partially shuffled mutation (<abbr title="Partially Shuffled Mutation">PSM</abbr>)</h3><!--    <h3 id="psm">PSM - Partially shuffled mutation</h3>-->
    <p>Similar al caso anterior, se selecciona una sub secuencia dentro de una ruta en un cromosoma, pero esta vez
        se ordenan los elementos de forma aleatoria. Por ejemplo:</p>
      <div class="mutation"><div class="flex"><div class="circle light"><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>5</p></div></div></div>    <p>La sub secuencia <span class="mono">1,2,3</span> es elegida para ser desordenada, y el resultado es el siguiente:</p>
      <div class="mutation"><div class="flex"><div class="circle "><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle "><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle "><p>5</p></div></div></div>    <p>Para más información ver la <a href="/docs/literature.html">Bibliografía</a>.</p>
<div class="align-left mt3"><a href="#mutation">Volver a Mutación <i class="fa-solid fa-arrow-up"></i></a></div><h3 id="jm">Jump mutation (<abbr title="Jump Mutation">JM</abbr>)</h3><!--    <h3 id="jm">Desplazamiento de visita a ruta alternativa: Jump mutation (JM)</h3>-->

    <p>Esta mutación se aplica a cromosomas con más de dos rutas. Primero elegimos aleatoriamente dos de ellas, una será
        donante y la otra receptora. Luego, elegimos (también) aleatoriamente una visita dentro de la ruta donante y la
        llevamos a una posición aleatoria en la ruta receptora. Visto que la visita "salta" entre rutas, nos pareció
        adecuado nombrar Jump Mutation a esta mutación.</p>
    <p>En el ejemplo a continuación mostramos una solución compuesta de dos rutas, <span mono>A</span> y <span mono>B</span>.</p>
      <div class="mutation"><div class="flex wrap gap3 mb2">  <div><div class="flex"><div class="circle light"><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>3</p></div></div>  <div class="underline-light">viajante A</div>  </div>  <div><div class="flex"><div class="circle light"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>7</p></div></div>  <div class="underline-light">viajante B</div>  </div></div></div>    <p>Seleccionamos la visita <span mono>1</span> para saltar entre las rutas, y la ubicamos entre las visitas
        <span mono>6</span> y <span mono>7</span> de la ruta contraria:</p>
      <div class="mutation"><div class="flex wrap gap3 mb2">  <div><div class="flex"><div class="circle light"><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>3</p></div></div>  <div class="underline-light">viajante A</div>  </div>  <div><div class="flex"><div class="circle light"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>7</p></div></div>  <div class="underline-light">viajante B</div>  </div></div></div>

    <fieldset class="lessons">
        <legend>Lecciones aprendidas</legend>
    <div><p><span class="lightbulb"></span>
Si bien esta mutación es muy sencilla, resultó ser de vital importancia en el desarrollo de nuestro algoritmo
            genético, puesto que es la primera mutación que presentamos en la que los cambios no están limitados a una única ruta.
            Esto es porque las mutaciones anteriores fueron desarrolladas pensando en el problema del viajante simple, en el
            que sólo se trata de optimizar una única ruta. En nuestro caso, esta mutación surgió a modo de prueba y
            nos proporcionó muy buenos resultados, por lo que decidimos luego extender las mutaciones 
            <a href="#dm"><abbr title="Displacement Mutation">DM</abbr></a>,
            <a href="#rsm"><abbr title="Reverse Sequence Mutation">RSM</abbr></a> y 
            <a href="#psm"><abbr title="Partial Shuffled Mutation">DM</abbr></a> para variar los cromosomas entre rutas también.
            </p></div>
    </fieldset>
    <p todo>poner graficos comparativos</p>


<div class="align-left mt3"><a href="#mutation">Volver a Mutación <i class="fa-solid fa-arrow-up"></i></a></div><h3 id="jdm">Jump displacement mutation (<abbr title="Jump Displacement Mutation">JDM</abbr>)</h3><!--    <h3 id="jdm">Jump Displacement Mutation (JDM)</h3>-->
    <p>Esta mutación es una variante de <a href="#dm"><abbr title="Displacement Mutation">DM</abbr></a>, en la que efectuamos el intercambio de visitas entre rutas distintas (si
        tenemos más de una ruta). Por Ejemplo, dada una solución:</p>
          <div class="mutation"><div class="flex wrap gap3 mb2">  <div><div class="flex"><div class="circle light"><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>3</p></div></div>  <div class="underline-light">viajante A</div>  </div>  <div><div class="flex"><div class="circle light"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>7</p></div></div>  <div class="underline-light">viajante B</div>  </div></div></div>        <p>Una posible mutación es invertir las posiciones de las visitas <span mono>1</span> y <span mono>6</span> que se
        encuentran en rutas ditintas:</p>
          <div class="mutation"><div class="flex wrap gap3 mb2">  <div><div class="flex"><div class="circle light"><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>3</p></div></div>  <div class="underline-light">viajante A</div>  </div>  <div><div class="flex"><div class="circle light"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>7</p></div></div>  <div class="underline-light">viajante B</div>  </div></div></div>

<div class="align-left mt3"><a href="#mutation">Volver a Mutación <i class="fa-solid fa-arrow-up"></i></a></div><h3 id="jrsm">Jump reverse sequence mutation (<abbr title="Jump Reverse Sequence Mutation">JRSM</abbr>)</h3><!--    <h3 id="jrsm">Jump RSM (JRSM)</h3>-->
    <p>Para adaptar <a href="#rsm"><abbr title="Reverse Sequence Mutation">RSM</abbr></a> a nuestro problema de múltiples rutas, decidimos aplicar el algoritmo nuevamente en
    dos partes: primero seleccionar una sub secuencia dentro de una ruta, quitarla de la ruta original e invertir el orden
    de sus elementos, para luego incorporar dicha secuencia en un punto aleatorio de otra ruta de la misma solución.
    Ver el ejemplo a continuación:</p>
      <div class="mutation"><div class="flex wrap gap3 mb2">  <div><div class="flex"><div class="circle light"><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>3</p></div></div>  <div class="underline-light">viajante A</div>  </div>  <div><div class="flex"><div class="circle light"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>7</p></div></div>  <div class="underline-light">viajante B</div>  </div></div></div>    <p>El siguiente es un resultado final posible:</p>
      <div class="mutation"><div class="flex wrap gap3 mb2">  <div><div class="flex"><div class="circle light"><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>3</p></div></div>  <div class="underline-light">viajante A</div>  </div>  <div><div class="flex"><div class="circle light"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>7</p></div></div>  <div class="underline-light">viajante B</div>  </div></div></div>

<div class="align-left mt3"><a href="#mutation">Volver a Mutación <i class="fa-solid fa-arrow-up"></i></a></div><h3 id="jpsm">Jump partially shuffled mutation (<abbr title="Jump Partially Shuffled Mutation">JPSM</abbr>)</h3><!--    <h3 id="jpsm">PSM entre rutas (JPSM)</h3>-->
    <p>Al igual que en el caso anterior, para poder adaptar <a href="#jpsm"><abbr title="Jump Partially Shuffled Mutation">JPSM</abbr></a> mejor a nuestro problema, aplicamos parte
    del algoritmo a una ruta, y el resto a otra ruta dentro de la misma solución. Por ejemplo, seleccionamos las
    visitas <span mono>2,3,4</span> de la ruta <span mono>A</span>:</p>
      <div class="mutation"><div class="flex wrap gap3 mb2">  <div><div class="flex"><div class="circle light"><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>5</p></div></div>  <div class="underline-light">viajante A</div>  </div>  <div><div class="flex"><div class="circle light"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>7</p></div></div>  <div class="underline-light">viajante B</div>  </div></div></div>    <p>Cambiamos el orden de los elementos de forma aleatoria, por ejemplo: <span mono>3,2,4</span>, e insertamos
    esta secuencia en un punto aleatorio dentro de otra ruta de la misma solución:</p>
      <div class="mutation"><div class="flex wrap gap3 mb2">  <div><div class="flex"><div class="circle light"><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>5</p></div></div>  <div class="underline-light">viajante A</div>  </div>  <div><div class="flex"><div class="circle light"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>7</p></div></div>  <div class="underline-light">viajante B</div>  </div></div></div>
<div class="align-left mt3"><a href="#mutation">Volver a Mutación <i class="fa-solid fa-arrow-up"></i></a></div><h3 id="erm">Empty route mutation <span todo>Nuevo!</span> (<abbr title="Empty Route Mutation">ERM</abbr>)</h3><!--    <h3 id="erm">Empty route mutation (ERM) <span todo>Nuevo!</span></h3>-->
    <p>Esta mutación fue agregada para ayudar al algoritmo en las ejecuciones no balanceadas. Esto es porque las mutaciones
        y crossovers disponibles hasta el momento de desarrollarla no favorecían este tipo de ejecuciones, es decir, era poco probable que
        devolvieran rutas vacías.</p>
    <p>Se elige una ruta al azar dentro de la solución, y se vacía completamente. Los elementos que se quitaron de esa ruta se reparten
    equitativamente entre las rutas restantes. Por ejemplo, para una solución de 4 rutas:</p>
      <div class="mutation"><div class=" mb2">  <div class="flex column mb2" style="align-items: flex-start">    <div><div class="flex"><div class="circle light"><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>4</p></div></div>      <div class="underline-light" style="width: 100%">viajante A</div>    </div>  </div>  <div class="flex column mb2" style="align-items: flex-start">  <div><div class="flex"><div class="circle light"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>8</p></div></div>  <div class="underline-light" style="width: 100%">viajante B</div>  </div>  </div>  <div class="flex column mb2" style="align-items: flex-start">  <div><div class="flex"><div class="circle light"><p>9</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>10</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>11</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>12</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>13</p></div></div>  <div class="underline-light" style="width: 100%">viajante C</div>  </div>  </div>  <div class="flex column mb2" style="align-items: flex-start">  <div><div class="flex"><div class="circle light"><p>14</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>15</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>16</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>17</p></div></div>  <div class="underline-light" style="width: 100%">viajante D</div>  </div></div></div></div>    <p>Si vaciamos por ejemplo la tercera ruta, la nueva solución podría verse de esta forma:</p>
      <div class="mutation"><div class=" mb2">  <div class="flex column mb2" style="align-items: flex-start">    <div><div class="flex"><div class="circle light"><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>10</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>4</p></div></div>      <div class="underline-light" style="width: 100%">viajante A</div>    </div>  </div>  <div class="flex column mb2" style="align-items: flex-start">  <div><div class="flex"><div class="circle light"><p>5</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>11</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>7</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>8</p></div></div>  <div class="underline-light" style="width: 100%">viajante B</div>  </div>  </div>  <div class="flex column mb2" style="align-items: flex-start">  <div><div class="flex"><div class="circle light"><p>9</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>13</p></div></div>  <div class="underline-light" style="width: 100%">viajante C</div>  </div>  </div>  <div class="flex column mb2" style="align-items: flex-start">  <div><div class="flex"><div class="circle light"><p>14</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>15</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>16</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>12</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>17</p></div></div>  <div class="underline-light" style="width: 100%">viajante D</div>  </div></div></div></div>    <p>Este tipo de mutación aporta valor para aquellas soluciones de múltiples rutas. En casos donde las soluciones tengan pocas
    rutas, es posible que las soluciones nuevas propuestas sean de menor valor por generar rutas muy largas. Por ejemplo, ver las rutas presentadas a continuación:</p>

      <div class="mutation"><div class="flex wrap gap3 mb2">  <div><div class="flex"><div class="circle light"><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>5</p></div></div>  <div class="underline-light">viajante A</div>  </div>  <div><div class="flex"><div class="circle light"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>7</p></div></div>  <div class="underline-light">viajante B</div>  </div></div></div>    <p>Luego de la mutación, las rutas podrían ser de esta manera:</p>
      <div class="mutation"><div class="flex wrap gap3 mb2">  <div><div class="flex"><div class="circle light"><p>0</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>5</p></div></div>  <div class="underline-light">viajante A</div>  </div>  <div><div class="flex"><div class="circle light"><p>4</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>6</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>1</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>2</p></div><i class="icono-arrow1-left"></i><div class="circle yellow-crayola"><p>3</p></div><i class="icono-arrow1-left"></i><div class="circle light"><p>7</p></div></div>  <div class="underline-light">viajante B</div>  </div>  </div></div>    <p>En este caso, por ser dos rutas, una ruta queda con todas las visitas. Esto puede ser contraproducente si supera el
        máximo de visitas razonables por médico en una jornada laboral. Si eso sucede, la solución será penalizada.</p>

<div class="align-left mt3"><a href="#mutation">Volver a Mutación <i class="fa-solid fa-arrow-up"></i></a></div><h3 id="rem">Reduce Entropy Mutation <span todo>Nuevo!</span> (<abbr title="Reduce Entropy Mutation">REM</abbr>)</h3><!--    <h3 id="rem">Reduce Entropy Mutation (REM) <span todo>Nuevo!</span></h3>-->
    <p>Inspirados en los procesos naturales que llevan grupos de elementos al equilibrio reduciendo la entropía (en términos de
        <em>grado de desorden</em>) del grupo,
    como por ejemplo un cuerpo celeste que tiende a ser atraído a otro con masa gravitacional mayor, o la forma en que la arena
        ocupa los espacios entre piedras más grandes en un frasco, diseñamos esta mutación
    con la intención de ayudar al algoritmo a encontrar mejores soluciones reduciendo un poco el caos de la asignación aleatoria.</p>
    <p>El caso en particular en que pensamos, es el que una ruta posee una visita que claramente sería más razonable que esté en otra ruta.
    Hay ocasiones en las que ese cambio lleva muchas iteraciones o mismo nunca llega a producirse mediante los crossovers
    y mutaciones disponibles.<p>
    <p>En resumidas palabras, esta mutación es muy similar a <a href="#jdm"><abbr title="Jump Displacement Mutation">JDM</abbr></a>, pero con un poco menos de aleatoriedad.</p>
    <p>
        La nueva mutación propuesta se compone de los siguientes pasos:</p>
    <ul>
        <li>se elige aleatoriamente una ruta a quien quitarle una visita, que tenga al menos una visita</li>
        <li>dentro de la ruta elegida, <em>se selecciona la visita que esté más lejos del inicio o fin de la ruta</em></li>
        <li>se quita esa visita de la ruta donante</li>
        <li>se elige dentro de las rutas restantes, <em>aquella que esté más cerca de la visita eliminada</em></li>
        <li>se inserta la visita en la nueva ruta elegida, en un lugar aleatorio.</li>
    </ul>

    <p></p>

<div class="align-left mt3"><a href="#mutation">Volver a Mutación <i class="fa-solid fa-arrow-up"></i></a></div>



<hr class="section-end"/>
<h2 id="survivors">Selección de soluciones sobrevivientes</h2>
<p>Las siguientes son las funciones de probabilidad que utilizamos para seleccionar las soluciones que sobreviven y forman parte
de la siguiente generación. La elección de qué función usar se hace de manera aleatoria para cada generación.</p>
<h3>Distribución exponencial negativa</h3>

    
        <div class="flex center">
        <figure class="mw-inherit mt2 mb3" style="text-align: center;max-width: 600px" role="group">
            <img class="mw-inherit" src="/docs/images/p_exponential.png"
                 alt="Distribución de probabilidad según una exponencial negativa." width="100%">
                 <hr/>
            <figcaption><p><b>Figura:</b> Distribución de probabilidad según una exponencial negativa.</p></figcaption>
        </figure>
        </div>
        

    <p>
        Se selecciona obligatoriamente un porcentaje de las mejores soluciones.
        En el gráfico esto se ve representado por un plateau con probabilidad igual a uno al inicio de la curva.
        Luego de ese porcentaje, la probabilidad desciende en forma de exponencial negativa hasta llegar
        a un valor pequeño pero distinto de cero.
    </p>
    <p>
        Elegimos una distribución exponencial y no lineal porque nos permitió variar la velocidad de la caída de la
        curva, de forma de asegurar una diferencia en la posibilidad de elegir una mejor solución respecto de una
        solución menos buena.
    </p>
    <p>
        Dado que la curva tiende a aplanarse en una probabilidad muy baja, pero distinta de cero, nos aseguramos de que
        todas las soluciones
        tengan posibilidad de ser elegidas.
    </p>


    
        <div class="flex center">
        <figure class="mw-inherit mt2 mb3" style="text-align: center;max-width: 600px" role="group">
            <img class="mw-inherit" src="/docs/images/survivors_exponential.png"
                 alt="Soluciones sobrevivientes que entraron en la nueva generación dada una probabilidad exponencial" width="100%">
                 <hr/>
            <figcaption><p><b>Figura:</b> Soluciones sobrevivientes que entraron en la nueva generación dada una probabilidad exponencial</p></figcaption>
        </figure>
        </div>
        
    <p>
        El gráfico anterior muestra el resultado de una ejecución en la que se aplicó la distribución de probabilidad
        exponencial para la selección de 200 soluciones sobrevivientes de un pool inicial de 1234
        soluciones disponibles.
    </p>
    <p>
        Podemos apreciar que los puntos de la curva están más juntos para valores más pequeños de <span mono>Y</span>, y
        se espacían de a poco conforme <span mono>Y</span> va creciendo. Esto es el resultado de aplicar una distribución
        de probabilidad con una pendiente negativa variable.
        Sabiendo que las soluciones están ordenadas por fitness, esto indica también que las mejores soluciones fueron
        elegidas con mayor probabilidad, pero que las peores soluciones tuvieron su oportunidad de sobrevivir.
    </p>
    <p>
        Por último puede verse que hasta <span mono>X=30</span> la curva tiene una pendiente más baja, casi recta. Esto es porque esas primeras
        30 soluciones fueron elegidas independientemente de su probabilidad, es decir, tenían su lugar asegurado.
    </p>

<h3>Distribución escalonada</h3>

    
        <div class="flex center">
        <figure class="mw-inherit mt2 mb3" style="text-align: center;max-width: 600px" role="group">
            <img class="mw-inherit" src="/docs/images/p_square.png"
                 alt="Distribución de probabilidad escalonada." width="100%">
                 <hr/>
            <figcaption><p><b>Figura:</b> Distribución de probabilidad escalonada.</p></figcaption>
        </figure>
        </div>
        

    <p>Al igual que en el caso anterior, las mejores soluciones tienen garantizada su supervivencia hacia la siguiente
        generación. Esto se refleja nuevamente en el gráfico con una probabilidad igual a uno para las primeras soluciones.</p>
    <p>La probabilidad de seleccionar cualquier otra solución es escalonada. Aquellas soluciones buenas, intermedias
        o malas tienen la misma probabilidad de ser elegidas. El resto de las soluciones, es decir, todas las que no se destacan por ser
        muy buenas, muy malas, o intermedias tienen probabilidad cero de ser elegidas.</p>



        <div class="flex center">
        <figure class="mw-inherit mt2 mb3" style="text-align: center;max-width: 600px" role="group">
            <img class="mw-inherit" src="/docs/images/survivors_square.png"
                 alt="Soluciones sobrevivientes que entraron en la nueva generación dada una probabilidad escalonada" width="100%">
                 <hr/>
            <figcaption><p><b>Figura:</b> Soluciones sobrevivientes que entraron en la nueva generación dada una probabilidad escalonada</p></figcaption>
        </figure>
        </div>
        
    <p>
        El gráfico anterior muestra qué soluciones pasaron a la siguiente generación del pool generado en una iteración
        de una ejecución, pero ahora para la distribución de probabilidad escalonada. En este caso, de cerca de 1300
        soluciones disponibles, nuevamente sólo 200 pasaron a ser parte de la siguiente generación.
    </p>
    <p>
        La curva tiende a parecer más una recta, en la que la densidad de puntos es más o menos constante sobre la curva
        (exceptuando las primeras 30 soluciones), lo que indica que todas las soluciones
        tuvieron la misma probabilidad de ser elegidas. Al igual que en el caso anterior, las primeras 30 soluciones
        fueron rescatadas independientemente de su probabilidad (y por esto la pendiente es menos pronunciada en esa parte de la curva).
    </p>
    <p>
        Se puede apreciar dos saltos importantes en esta curva, que indican grandes cantidades de soluciones que no fueron
        elegidas: aquellas cuya probabilidad fue cero en la distribución escalonada presentada anteriormente.
        Sabiendo que las soluciones están ordenadas por fitness, todo esto indica que el grupo de mejores, intermedias, y peores soluciones
        fueron elegidas con igual probabilidad.
    </p>



<h3>Comparación de resultados entre ambas distribuciones</h3>

<p todo>aca pensé en ejecutar el core variando la probabilidad de elegir una u otra. Tendría que hacerlo muchas veces y sacar promedio.</p>


<hr class="section-end"/>
<h2 id="end-criteria">Criterio de finalización</h2><p>Es esperado en este tipo de algoritmos definir un límite de tiempo o un límite de iteraciones para considerar
finalizada la ejecución. En nuestro caso, decidimos considerar un límite de iteraciones por ejecución, con la salvedad de
que el algoritmo esté en una buena <em>racha</em> y todavía encuentre buenas soluciones aún acercándose al límite de los loops:</p>
<p>Nuestro algoritmo evalúa una cantidad de iteraciones antes de terminar cuál es la mejor solución encontrada, y si supera
esa solución antes de llegar al límite, se extiende la ejecución unas iteraciones más.</p>


<hr class="section-end"/>
<h2 id="more">Otras modificaciones al algoritmo</h2>    <p>
        Las siguientes son modificaciones que planteamos durante el desarrollo
        del algoritmo.
    </p>

    <h3>Shake mutation <span todo>Nuevo!</span></h3>
    <p>
        Notamos que el algoritmo en general converge hacia una solución, y luego
        tarda muchas iteraciones en encontrar soluciones mejores. Por esta razón planteamos
        esta mejora que implica aumentar el porcentaje de mutaciones luego de una cantidad
        preseleccionada de iteraciones estancadas.
    </p>
    <p>
        La intención era sacudir al algoritmo (shake) cambiando por una cantidad definida de
        iteraciones el porcentaje de mutación inicial, normalmente un valor entre 0.01 y 0.05
        y llevarlo al doble, o al triple, durante una o más iteraciones.
    </p>
    <p>
        El resultado esperado era ver saltos en la curva de mejor solución por generación, pero
        el resultado obtenido fue que en general, este cambio no aportó mejoras.
    </p>
    <p>
        Finalmente decidimos retirar esta modificación del algoritmo.
    </p>
    <h3>Sort + immigration <span todo>Nuevo!</span></h3>
    <p>
        Nuevamente, intentando atacar el estancamiento del algoritmo agregamos otra modificación en
        la que esta vez, a intervalos regulares duplicamos el pool genético justo antes del proceso
        de selección y ordenamos todas las rutas de esas soluciones duplicadas por menor distancia entre los puntos
        de las rutas (sort), de la misma forma que lo hacemos en el <a href="/docs/core/algorithm.html#mbs">
        crossover MBS</a>.
        Para asegurar que no estemos restringiendo el pool genético agregamos también un número fijo de
        soluciones aleatorias nuevas (immigration).
    </p>
    <p>
        Las primeras pruebas con esta modificación no dieron buenos resultados, pero notamos que para números
        grandes de visitas, a intervalos grandes de iteraciones, ayuda a la convergencia del algoritmo.
    </p>



<!---->

<!--        -->        

    </div>

</main>

<hr class="mt8" /><hr/>

    <script src="/docs/js/tooltip.js"></script>
    <script src="/docs/js/scroll-top.js"></script>
    <script src="/docs/js/tobii.min.js"></script>
    <script>
      const tobii = new Tobii();
    </script>
</body>
</html>
    
<!DOCTYPE html>
<html lang="es">
<head>
    <meta name="robots" content="noindex">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Especificaciones técnicas</title>
    <link rel="shortcut icon" href="/docs/images/favicon.png" type="image/png">
    <link rel="stylesheet" href="/docs/css/fonts.css">
    <link rel="stylesheet" href="/docs/css/colors.css">
    <link rel="stylesheet" href="/docs/css/layout.css">
    <link rel="stylesheet" href="/docs/css/styles.css">
    <link rel="stylesheet" href="/docs/css/solutions-style.css">

    <link rel="stylesheet" href="/docs/css/tooltip.css">
    <link rel="stylesheet" href="/docs/css/scroll-top.css">
    <link rel="stylesheet" href="/docs/css/tobii.min.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>

<header class="header"><h1 class="mw-content">Especificaciones técnicas - Prácticas implementadas/Facetas técnicas destacables del desarrollo del core</h1></header>
    <main id="main-content">
        <div class="content">

           

            <p>Consideramos que los siguientes merecen una mención dentro de las funcionalidades implementadas
                en el core, por integrar conocimientos de áreas distintas de la carrera</p>
            <ul>
                <li><a href="#api-rest">Uso de API REST</a></li>
                <li><a href="#concurrency">Ejecución de rutinas concurrentes</a></li>
                <li><a href="#profiling">Profiling del código</a></li>
                <li><a href="#database">Persistencia de datos</a></li>
                <li><a href="#design-patterns">Patrones de diseño</a></li>
                <li><a href="#robustness">Robustez</a></li>
                <li><a href="#tests">Tests</a></li>
                <li><a href="#graphs">Gráficos</a></li>
            </ul>

            <h2 id="api-rest">API REST</h2>
            <p>
                El algoritmo genético debe ejecutarse únicamente a pedido del backend, por lo que definimos una API REST para comunicar
                ambas partes.
            </p>
            <p>
                La misma consiste de dos requests distintos, uno que inicia la ejecución, y otro que consulta el estado
                de la misma y su progreso:
            </p>
            <ul>
                <li><b>Generar solución</b>: Request de tipo <span mono>POST</span> que envía los datos de las distancias entre todos los puntos
                del mapa. Mediante estos datos es posible calcular las rutas utilizando nuestro algoritmo genético.</li>
                <li><b>Obtener progreso/resultados</b>: Request de tipo <span mono>GET</span> que devuelve el progreso del cálculo (un número entre
                0 y 1) y al llegar al final del cálculo, las secuencias de los puntos sugeridas para cada ruta
                    (balanceada, priorizada y desbalanceada).</li>
            </ul>
            <p>
                En el desarrollo de estas APIs hicimos uso de las siguientes buenas prácticas:
            </p>
            <ul>
                <li>
                    <b>Autenticación mediante token de los requests</b>: utilizamos un sistema de PSK (pre-shared-key) sin expiración por
                    no ser necesaria más complejidad (sólo el backend puede acceder al core).
                    Ambas partes poseen una clave secreta que se encripta mediante un algoritmo conocido entre ambas
                    y se envía en cada request.
                    Dado que ambas partes saben la clave secreta y cómo encriptarla, cuando el core recibe el token del backend
                    lo coteja contra su encriptación de la pre-shared-key.
                    Esto es una versión muy sencilla de encriptación simétrica.
                </li>
                <li>
                    <b>Uso de códigos de respuesta HTML</b>: utilizamos los siguientes códigos de HTML en las respuestas de los
                    distintos endpoints: 200, 400, 401 y 404 según corresponde
                    <a href="https://www.rfc-editor.org/rfc/rfc9110.html#name-overview-of-status-codes" target="_blank"
                       title="ver documentación en otra ventana">
                        (ver RFC 9110)
                    </a>.
                </li>
            </ul>

            <p>A continuación presentamos un diagrama simplificado de secuencia que representa la interacción entre el
            backend y el core.</p>

            
        <div class="flex center">
        <figure class="mw-inherit mt2 mb3" style="text-align: center;max-width: 100%" role="group">
            <img class="mw-inherit" src="/docs/images/sequence_backend_core.svg"
                 alt="Diagrama de secuencia entre el backend y el core" width="100%">
                 <hr/>
            <figcaption><p><b>Figura:</b> Diagrama de secuencia entre el backend y el core</p></figcaption>
        </figure>
        </div>
        
            <h2 id="concurrency">Ejecución de rutinas concurrentes</h2>
            <p>
                El algoritmo genético tiene pasos que pueden ser paralelizables por ser independientes del resto de la ejecución.
                Por esta razón hacemos uso de rutinas concurrentes en la implementación del core, aprovechando esa cualidad y
                obteniendo así tiempos más cortos de ejecución.
            </p>
            <p todo>poner tabla comparativa de tiempos</p>
            <p>
                También paralelizamos las distintas ejecuciones del algoritmo, es decir, la búsqueda de las mejores soluciones
                posibles balanceada, desbalanceada y priorizada para cada set de datos.
            </p>

            <p>
                En Go esto es posible mediante <a href="https://gobyexample.com/goroutines" target="_blank"
                                                  title="ver documentación en otra ventana">goroutines</a>
                y mecanismos básicos de concurrencia como <a href="https://gobyexample.com/waitgroups" target="_blank"
                                                             title="ver documentación en otra ventana">bloqueos</a>
                por espera y <a href="https://gobyexample.com/mutexes" target="_blank"
                                title="ver documentación en otra ventana">mutexes</a>.
            </p>

            <h2 id="profiling">Profiling del código</h2>
            <p>
                El desarrollo del core tuvo una complicación adicional: la novedad del lenguaje y nuestra falta de conocimiento del mismo.
                Un ejemplo es que mientras otros lenguajes proveen herramientas para el manejo de grandes listas de elementos, en Go es necesario
                hacer iteraciones. Otro ejemplo es que el concepto de OOP se implementa de forma no tradicional, en el sentido
                que no existe el concepto de herencia.
            </p>
            <p>
                Nuestro desconocimiento y este tipo de limitaciones llevaron a que nuestro código tuviera lugar a mejoras y
                las ejecuciones fueran largas. Esto nos obligó
                a utilizar herramientas de profiling para optimizar el uso de recursos.
                Golang tiene un <a href="https://go.dev/blog/pprof" target="_blank">profiler nativo</a> para analizar el uso de memoria, entre otras, que aprendimos a utilizar para
                este análisis. Mediante esta herramienta modificamos el orden de las instrucciones, la definición de loops (los arrays con
                tamaño predefinido son menos pesados que los que definen su tamaño dinámicamente, por ejemplo), etc.
            </p>

            <h2 id="database">Persistencia de datos</h2>
            <p>
                La aplicación utiliza una base de datos de tipo <b>clave-valor</b> para almacenar los resultados de las ejecuciones.
                De esta forma el core puede apagarse hasta que el backend solicite los resultados de una ejecución.
            </p>
            <p>
                La base de datos elegida para esta persistencia fue <a href="https://redis.io/" target="_blank">Redis</a>
                por su simplicidad (clave-valor) y por ser novedosa para nosotros.
                Definimos un tiempo de vida de un día (<abbr title="Time to live">TTL</abbr>) para los resultados de las
                corridas ejecutadas, puesto que no es necesario más que eso según las reglas del negocio.
            </p>
            <p>
                Por cuestiones de costos, la instancia del core que está instalada en la nube utiliza una <b>base de
                datos relacional</b> <a href="https://www.mysql.com/" target="_blank">MySql</a>.
                El uso de una u otra base se define mediante un parámetro de configuración. El core está preparado para ejecutarse
                de la misma forma en cualquiera de los dos casos.
            </p>


            <h2 id="design-patterns">Patrones de diseño utilizados</h2>
            <p>Hicimos uso de los siguientes patrones de diseño en el desarrollo de la aplicación del Core:</p>
            <ul>
                <li>
                    <b>Singleton</b>: mantuvimos una lista de ejecuciones en memoria para acceder de las distintas las rutinas,
                    y también un objeto para acceder a las bases de datos, ambos implementadas mediante este patrón.
                </li>
                <li>
                    <b>Hook</b>: Utilizamos este patrón para asegurarnos de que ciertas rutinas se ejecutaran luego de otras, como por ejemplo
                    finalizar una ejecución y posteriormente guardar sus datos en la base de datos.
                </li>
                <li>
                    <b>Factory</b>: este patrón fue muy útil para la creación de las distintas ejecuciones, funciones de fitness, mutaciones y crossovers.
                </li>
            </ul>



            <h2 id="robustness">Robustez</h2>
            <p>
                El core está preparado para poder retomar ejecuciones previas en caso de algún imprevisto, haciendo uso
                de la base de datos asociada y del listado de ejecuciones en memoria (implementado mediante un Singleton,
                ítem anterior).
            </p>
            <p>
                La idea de esto es asegurar que las ejecuciones realizadas no se vuelvan a ejecutar salvo que sea demandado
                así por el usuario. Esto es para reducir el tiempo de ejecución en la nube y con esto, el costo del mismo.
            </p>
            <p>
                De esta forma, si el core fuera a apagarse por alguna situación de fuerza mayor durante una corrida en la
                que por ejemplo una de las tres ejecuciones ya estuviera completa, al reiniciar y volver a solicitar
                los resultados de la ejecución, el core únicamente reiniciará las dos ejecuciones restantes.
            </p>

            <h2 id="tests">Tests</h2>
            <p>
                La complejidad del algoritmo nos llevó a ejecutar pruebas distintas sobre el código para asegurar
            el funcionamiento esperado:
            </p>
            <ul>
                <li>
                    <b>Pruebas unitarias</b>: las utilizamos para probar las funcionalidad más básicas, por ejemplo el ordenamiento
                    de un listado, la remoción de una clave de un mapa, etc.
                </li>
                <li>
                    <b>Pruebas de integración</b>: las utilizamos para probar el funcionamiento de las mutaciones y los
                    crossovers, por ejemplo.
                </li>
                <li>
                    <b>Pruebas funcionales</b>: las utilizamos en su mayoría para validar la creación de las instancias de ejecución.
                </li>
            </ul>

<!--            https://programacionymas.com/blog/tipos-de-testing-en-desarrollo-de-software-->

            <h2 id="graphs">Gráficos</h2>
            <p>
                Los gráficos presentados en esta sección (El core) fueron generados a partir de la aplicación. Para esto
                utilizamos una librería open source de gráficos.
            </p>
            <p>
                Inicialmente mantuvimos la información necesaria en memoria para poder graficar, pero esto era muy
                poco performante. Entonces introdujimos otra base de datos no relacional, <a href="https://www.mongodb.com/"
                target="_blank">MongoDB</a>, para guardar la información de las ejecuciones y graficarla a demanda.
                La elección de esta base fue también por la novedad de la misma para nosotros y por la suficiencia del
                esquema para la representación de nuestros datos.
            </p>
            <p>
                La funcionalidad de los gráficos (persistencia de datos y dibujo de los mismos) puede ser habilitada en una configuración
                de la aplicación, lo que permite que esté desconectada en la nube, y no consuma recursos o necesite de la base en cuestión.
            </p>




<!--            -->                    </div>
    </main>

<hr class="mt8" /><hr/>

    <script src="/docs/js/tooltip.js"></script>
    <script src="/docs/js/scroll-top.js"></script>
    <script src="/docs/js/tobii.min.js"></script>
    <script>
      const tobii = new Tobii();
    </script>
</body>
</html>
    
<!DOCTYPE html>
<html lang="es">
<head>
    <meta name="robots" content="noindex">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Análisis de datos obtenidos</title>
    <link rel="shortcut icon" href="/docs/images/favicon.png" type="image/png">
    <link rel="stylesheet" href="/docs/css/fonts.css">
    <link rel="stylesheet" href="/docs/css/colors.css">
    <link rel="stylesheet" href="/docs/css/layout.css">
    <link rel="stylesheet" href="/docs/css/styles.css">
    <link rel="stylesheet" href="/docs/css/solutions-style.css">

    <link rel="stylesheet" href="/docs/css/tooltip.css">
    <link rel="stylesheet" href="/docs/css/scroll-top.css">
    <link rel="stylesheet" href="/docs/css/tobii.min.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
<header class="header"><h1 class="mw-content">Análisis de datos obtenidos</h1></header>
    <main id="main-content">
        <div class="content">

            

            <ul>
                <li>
                    <a href="#execution-parameters">
                        Situaciones inesperadas: consecuencias de la naturaleza no determinística del
                        algoritmo
                    </a>
                </li>
                <li>
                    <a href="#fitness-parameters">
                        Definición de parámetros de fitness
                    </a>
                </li>
            </ul>

            <h2 id="execution-parameters">Situaciones inesperadas: consecuencias de la naturaleza no determinística del algoritmo</h2>
            <p>
                Como explicamos previamente, el algoritmo genético por definición obtiene la mejor solución posible
                dentro del camino en que fue descubriendo las mejorías. Esto puede interpretarse como que el algoritmo
                recorre el espacio de soluciones de la función de fitness, un espacio que tiene valles y
                picos que no pueden calcularse de manera exacta por la naturaleza compleja del problema.
            </p>
            <p>Si pudieramos simplificar el problema, el siguiente gráfico podría representar nuestro dilema:</p>
            
        <div class="flex center">
        <figure class="mw-inherit mt2 mb3" style="text-align: center;max-width: 600px" role="group">
            <img class="mw-inherit" src="/docs/images/maximos.svg"
                 alt="Función continua con dos picos visibles, uno mayor que el otro. Se indica que el pico menor es 
                un máximo local, mientras que el pico mayor es un máximo global." width="100%">
                 <hr/>
            <figcaption><p><b>Figura:</b> Gráfico en dos dimensiones de una función continua con varios picos</p></figcaption>
        </figure>
        </div>
                    <p>
                Si bien hay múltiples estrategias para que esto no suceda, en el ejemplo de la figura, el algoritmo
                podría quedar atrapado en el máximo local y necesitar de muchas, muchas
                iteraciones para poder llegar al máximo global.
            </p>
            <p>
                En este tipo de situaciones es posible ajustar los parámetros de ejecución del algoritmo, como
                <b>incrementar el tamaño de la población o la cantidad mínima de iteraciones</b>, pero esto lleva una
                <b>penalización en términos de tiempo de ejecución</b>.
            </p>
            <p>
                A continuación presentamos un ejemplo de esta situación obtenido de uno de nuestros sets de pruebas.
                Se trata de dos ejecuciones realizadas con los mismos parámetros, con tres viajantes y cuatro grupos
                bien distinguidos de soluciones que deben dividirse equitativamente entre estos.
<!--                Es un ejemplo en el que la solución balanceada será más cara que la desbalanceada, por la naturaleza-->
<!--                de los datos.-->
            </p>
            <p>
                La primera imagen muestra una representación en dos dimensiones de la secuencia de visitas obtenida en la
                primera instancia, que se estima en 140 km, obtenida en 800 iteraciones.
                La mejor solución obtenida para este caso es de 132 km, por lo que esta solución puede ser
                considerada muy buena (un 5% de diferencia).
            </p>
            <p>
                La segunda imagen muestra la representación de otra solución obtenida con los mismos parámetros de
                ejecución en la segunda instancia, pero de 189 km en 1300 iteraciones (un 42% de diferencia).
            </p>
            <div class="flex center flex-1"><a href="/docs/images/map_gen799_7afea173fe52eb5c8a21bd058bf227aaTFB.png"  class="lightbox" title="Expandir imagen"  data-group=comparison>
        <div class="flex center">
        <figure class="mw-inherit mt2 mb3" style="text-align: center;max-width: 600px" role="group">
            <img class="mw-inherit" src="/docs/images/map_gen799_7afea173fe52eb5c8a21bd058bf227aaTFB.png"
                 alt="Esta solución balanceada es el resultado de una ejecución que se obtuvo en 800 iteraciones y representa un recorrido total de 140km, resultado muy bueno por estar muy cerca del mejor valor obtenido de 132km." width="100%">
                 <hr/>
            <figcaption><p><b>Figura:</b> Solución balanceada muy buena (1)</p></figcaption>
        </figure>
        </div>
        </a></div><div class="flex center flex-1"><a href="/docs/images/map_gen1299_e13fba4058cae213bc3f924b719589f7TFB.png"  class="lightbox" title="Expandir imagen"  data-group=comparison>
        <div class="flex center">
        <figure class="mw-inherit mt2 mb3" style="text-align: center;max-width: 600px" role="group">
            <img class="mw-inherit" src="/docs/images/map_gen1299_e13fba4058cae213bc3f924b719589f7TFB.png"
                 alt="Esta solución balanceada es el resultado de otra ejecución con los mismos parámetros, que se obtuvo en 1300 iteraciones y representa un recorrido total de 189km, resultado menos deseado, por tener una diferencia de cerca del 42% con la mejor solución obtenida en otras simulaciones." width="100%">
                 <hr/>
            <figcaption><p><b>Figura:</b> Solución balanceada inesperada (2)</p></figcaption>
        </figure>
        </div>
        </a></div>
            <p>
                En el primer caso el algoritmo devolvió una muy buena solución, y en el segundo, una no tan deseada.
            </p>

<!--
<p>


                Esto no representa un problema grave, puesto que para ayudar al usuario a elegir una buena solución
                presentamos siempre tres opciones distintas de resultados (balanceada, desbalanceada y priorizada),
                de las cuales las primeras dos están pensadas para
                ayudar al algoritmo a cubrir dos grupos de soluciones: aquellas que pueden agruparse equitativamente, y
                aquellas que no.
                De esta forma, si en alguna de las ejecuciones el algoritmo no llega a buen puerto, el usuario tiene otras
                opciones para elegir.
            </p>
            <p>
                La siguiente imagen muestra una solución desbalanceada al mismo problema, obtenida en la misma ejecución
                de la solución anterior (2):
            </p>

            
            <p>
                Ofreciendo ambas soluciones al mismo tiempo, el usuario tiene la posibilidad de quedarse con aquella que
                mejor se ajuste a su problema, y mejores resultados le provea.
            </p>
-->

            
    <fieldset class="lessons">
        <legend>Aprendizajes y próximos pasos</legend>
    <div>
  <span class="lightbulb"></span>                  <p>
                    La configuración de los parámetros del algoritmo (<b>tamaño de la población</b> y <b>cantidad de 
                    iteraciones</b>) se realizó manualmente <span data-toggletip>Nuestro problema está muy poco estudiado
                    al día de la fecha y no hay bibliografía que facilite esta información.</span>
                    para distintas combinaciones de viajantes y paradas, buscando siempre la cantidad mínima de 
                    iteraciones y soluciones por generación que dieran buenos resultados en cada caso.
                    </p>
                    <p>
                    Ocasionalmente, el mismo algoritmo, con iguales parámetros, generó resultados menos deseados.
                    </p>
                    <p>
                    Luego de investigar, extender nuestro algoritmo y modificar sus parámetros, entendimos que, como en 
                    todos los aspectos de la informática, <b>asegurar una mejor solución puede significar penalizar la
                    ejecución en términos de tiempos de espera y uso de recursos</b>.
                    </p>
                    <p>
                    Creemos que siempre hay mejoras que pueden hacerse al algoritmo, como por ejemplo definir estos
                    parámetros de forma adaptativa, que escapan el alcance de este trabajo.
                    </p>
                    <p>
                    Es por esto que proponemos agregar la opción de volver a calcular una ejecución si el resultado 
                    obtenido no satisface al usuario final como posible mejora para una siguiente etapa de desarrollo 
                    a discreción del cliente.
                    </p></div>
    </fieldset>
            <h2 id="fitness-parameters">Definición de parámetros de fitness</h2>
            <p>
                La función que utilizamos para calcular el fitness tiene una misma base para todos los tipos
                de ejecuciones (ver sección <a href="/docs/core/algorithm.html#fitness">Fitness</a>): las
                variables en cuestión se suman en el denominador de la fracción.
                La diferencia para cada tipo de ejecución se hace con los valores de esas variables, y los
                parámetros que las multiplican.
            </p>
            <p>
                Los valores de esas variables vienen definidos por funciones específicas dependiendo del tipo de problema,
                que retornan valores entre 0 y 1, siempre siendo cero el mejor escenario posible. Esto es porque el
                algoritmo
                intenta maximizar el resultado de la función de fitness, y estos parámetros modifican el denominador
                de la función: cuanto más <em>grande</em> el denominador, <em>menor el resultado de la ecuación</em>, y por el contrario,
                cuanto más <em>chico</em> el denominador, <em>mayor el resultado de la ecuación</em>.
            </p>
            <p>
                La elección de los parámetros que multiplican esos valores en la función de fitness es definitiva en
                relación con el resultado deseado. Por ejemplo, si todos los parámetros son 1, todas las penalizaciones
                tendrán equivalente peso.
                Si un único parámetro equivale a 1, y todos los demás equivalen a 0, sólo el primero tendrá peso en
                el resultado final. Si tenemos un caso más complejo, donde dos parámetros equivalen a 10 y los otros
                dos a 5, entonces el peso se distribuirá 33%, 33%, 16%, 16%, etc.
            </p>
            <p>
                Teniendo en cuenta que la función de fitness elegida penaliza soluciones indeseadas, pero no las prohíbe,
                la cuidadosa selección de estos parámetros puede lograr que el algoritmo llegue o no al resultado deseado.
            </p>
            <h3>Caso de estudio: un médico muy lejos</h3>
            <p>
                Uno de los casos de prueba que generamos posiciona a todos los pacientes en la zona del AMBA, y utiliza
                cuatro médicos, tres de ellos en la misma zona, y uno a cerca de 70km del paciente más cercano, en Zárate.
            </p>
            <p>
                La función de fitness influye directamente en el resultado final. Para esto preparamos distintas
                ejecuciones del mismo caso con leves variantes en la función de fitness del caso balanceado.
            </p>
            <p>
                En la siguiente tabla mostramos la combinación de parámetros utilizados en el cálculo de la solución
                balanceada. Los parámetros son <span mono>p1</span> asociado al costo, <span mono>p2</span>  asociado al
                costo por viajante que para una solución balanceada siempre es cero, <span mono>p3</span>
                asociado a la incompletitud de la solución,
                y <span mono>p4</span> asociado al costo por balanceo de rutas.
                En esta comparación nos interesa evaluar la relación entre los parámetros <span mono>p1</span> y
                <span mono>p4</span>.
            </p>
            <table class="table table-bordered table-hover table-condensed">
                <thead><tr><th title="Field #1">Caso</th>
                    <th title="Field #2">p1</th>
                    <th title="Field #3">p2</th>
                    <th title="Field #4">p3</th>
                    <th title="Field #5">p4</th>
                    <th title="Field #6">p1:p4</th>
                </tr></thead>
                <tbody><tr>
                    <td>Caso 1</td>
                    <td align="right">200</td>
                    <td>0</td>
                    <td align="right"> 500</td>
                    <td align="right">25</td>
                    <td align="right">8:1</td>
                </tr>
                <tr>
                    <td>Caso 2</td>
                    <td align="right">200</td>
                    <td>0</td>
                    <td align="right"> 500</td>
                    <td align="right">50</td>
                    <td align="right">4:1</td>
                </tr>
                <tr>
                    <td>Caso 3</td>
                    <td align="right">200</td>
                    <td>0</td>
                    <td align="right"> 500</td>
                    <td align="right">100</td>
                    <td align="right">2:1</td>
                </tr>
                <tr>
                    <td>Caso 4</td>
                    <td align="right">200</td>
                    <td>0</td>
                    <td align="right"> 500</td>
                    <td align="right">200</td>
                    <td align="right">1:1</td>
                </tr>
                <tr>
                    <td>Caso 5</td>
                    <td align="right">200</td>
                    <td> 0</td>
                    <td align="right">500</td>
                    <td align="right">300</td>
                    <td align="right">2:3</td>
                </tr>
                </tbody></table>

            <p>
                Con esos parámetros de prueba ejecutamos el algoritmo y obtuvimos las siguientes soluciones:
            </p>

            
            <div class="flex wrap">
                                <div class="max-width50-100">
                    <div class="flex center flex-1"><a href="/docs/images/core_data_study/balanced25.png"  class="lightbox" title="Expandir imagen"  data-group=study>
        <div class="flex center">
        <figure class="mw-inherit mt2 mb3" style="text-align: center;max-width: 600px" role="group">
            <img class="mw-inherit" src="/docs/images/core_data_study/balanced25.png"
                 alt="Representación en plano de las rutas generadas por el algoritmo con una relación p1/p4 de 8:1. El algoritmo descarta al médico que está lejos" width="100%">
                 <hr/>
            <figcaption><p><b>Figura:</b> Caso 1</p></figcaption>
        </figure>
        </div>
        </a></div>                </div>
                                <div class="max-width50-100">
                    <div class="flex center flex-1"><a href="/docs/images/core_data_study/balanced50.png"  class="lightbox" title="Expandir imagen"  data-group=study>
        <div class="flex center">
        <figure class="mw-inherit mt2 mb3" style="text-align: center;max-width: 600px" role="group">
            <img class="mw-inherit" src="/docs/images/core_data_study/balanced50.png"
                 alt="Representación en plano de las rutas generadas por el algoritmo con una relación p1/p4 de 4:1. El algoritmo descarta al médico que está lejos" width="100%">
                 <hr/>
            <figcaption><p><b>Figura:</b> Caso 2</p></figcaption>
        </figure>
        </div>
        </a></div>                </div>
                                <div class="max-width50-100">
                    <div class="flex center flex-1"><a href="/docs/images/core_data_study/balanced100.png"  class="lightbox" title="Expandir imagen"  data-group=study>
        <div class="flex center">
        <figure class="mw-inherit mt2 mb3" style="text-align: center;max-width: 600px" role="group">
            <img class="mw-inherit" src="/docs/images/core_data_study/balanced100.png"
                 alt="Representación en plano de las rutas generadas por el algoritmo con una relación p1/p4 de 2:1. El algoritmo incluye al médico que está lejos" width="100%">
                 <hr/>
            <figcaption><p><b>Figura:</b> Caso 3</p></figcaption>
        </figure>
        </div>
        </a></div>                </div>
                                <div class="max-width50-100">
                    <div class="flex center flex-1"><a href="/docs/images/core_data_study/balanced200.png"  class="lightbox" title="Expandir imagen"  data-group=study>
        <div class="flex center">
        <figure class="mw-inherit mt2 mb3" style="text-align: center;max-width: 600px" role="group">
            <img class="mw-inherit" src="/docs/images/core_data_study/balanced200.png"
                 alt="Representación en plano de las rutas generadas por el algoritmo con una relación p1/p4 de 1:1. El algoritmo incluye al médico que está lejos" width="100%">
                 <hr/>
            <figcaption><p><b>Figura:</b> Caso 4</p></figcaption>
        </figure>
        </div>
        </a></div>                </div>
                                <div class="max-width50-100">
                    <div class="flex center flex-1"><a href="/docs/images/core_data_study/balanced300.png"  class="lightbox" title="Expandir imagen"  data-group=study>
        <div class="flex center">
        <figure class="mw-inherit mt2 mb3" style="text-align: center;max-width: 600px" role="group">
            <img class="mw-inherit" src="/docs/images/core_data_study/balanced300.png"
                 alt="Representación en plano de las rutas generadas por el algoritmo con una relación p1/p4 de 2:3. El algoritmo incluye al médico que está lejos" width="100%">
                 <hr/>
            <figcaption><p><b>Figura:</b> Caso 5</p></figcaption>
        </figure>
        </div>
        </a></div>                </div>
                            </div>

            <p>
                Como puede verse, en las primeras dos, en las que la relación entre el parámetro <span mono>p1</span> y
                el parámetro <span mono>p4</span> era de 8:1 o 4:1 el algoritmo optó por dejar afuera al médico que
                estaba lejos. Esto es porque el costo del kilometraje pesaba al menos 4 veces más que el costo del balanceo.
                Estas soluciones dieron resultados cercanos a los 140 km.
            </p>
            <p>
                En los tres últimos casos, en los que la relación entre ambos parámetros se acercó más, o invirtió la
                relación, el algoritmo se vio obligado a incluir al médico que está lejos, obteniendo rutas de cerca de
                300 km.
            </p>
            <p>
                Nos pareció un caso interesante para mencionar, porque deja expuesta la importancia de la elección de
                estos parámetros en la función de fitness y en la ejecución del algoritmo.
            </p>

            
        </div>
    </main>

<hr class="mt8" /><hr/>

    <script src="/docs/js/tooltip.js"></script>
    <script src="/docs/js/scroll-top.js"></script>
    <script src="/docs/js/tobii.min.js"></script>
    <script>
      const tobii = new Tobii();
    </script>
</body>
</html>
    
<!DOCTYPE html>
<html lang="es">
<head>
    <meta name="robots" content="noindex">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Bibliografía</title>
    <link rel="shortcut icon" href="/docs/images/favicon.png" type="image/png">
    <link rel="stylesheet" href="/docs/css/fonts.css">
    <link rel="stylesheet" href="/docs/css/colors.css">
    <link rel="stylesheet" href="/docs/css/layout.css">
    <link rel="stylesheet" href="/docs/css/styles.css">
    <link rel="stylesheet" href="/docs/css/solutions-style.css">

    <link rel="stylesheet" href="/docs/css/tooltip.css">
    <link rel="stylesheet" href="/docs/css/scroll-top.css">
    <link rel="stylesheet" href="/docs/css/tobii.min.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>

<header class="header"><h1 class="mw-content">Bibliografía</h1></header><main id="main-content">
    <div class="content">

        
        <ol>
            <li>Genetic algorithm for Solving Multiple Traveling Salesmen Problem using a New Crossover and Population Generation, Dharm Raj Singh, Manoj Kumar Singh, Tarkeswar Singh, Rajkishore Prasad, ISSN 2007-9737, doi: 10.13053/CyS-22-2-2956.</li>
            <li>Analyzing the Performance of Mutation Operators to Solve the Traveling Salesman Problem, Otman Abdoun, Jafaar Abouchabaka, ChakirTajani, ISSN: 2222-4254.</li>
            <li>A Comparison of Genetic Sequencing Operators, T. Starkweather, S. McDaniel, K. Mathias, D. Whitley.</li>
            <li>Genetic Algorithms for the Traveling Salesman Problem: A Review of Representations and Operations, P. Larrañaga, C.M.H. Kuijpers, R.H. Murga, I. Inza, S. Dizdrevic.</li>
            <li>Crossover Operators in Genetic Algorithms: A review, A.J. Umbakar, P.D. Sheth, ISSN: 2229-6956, doi: 10.21917/ijsc.2015.0150.</li>
            <li>A Comparative Study of Adaptive Crossover Operators for Genetic Algorithms to Resolve the TSP, Abdoun Orman, Abouchabaka Jafaar</li>
            <li>Influence of the Population Size on the Genetic Algorithm Performance in Case of Cultivation Process Modelling, O. Roeva, S. Fidanova, M. Paprzycki</li>

        </ol>

    </div>
</main>
<hr class="mt8" /><hr/>

    <script src="/docs/js/tooltip.js"></script>
    <script src="/docs/js/scroll-top.js"></script>
    <script src="/docs/js/tobii.min.js"></script>
    <script>
      const tobii = new Tobii();
    </script>
</body>
</html>
    











</div>
</main>
<hr class="mt8" /><hr/>
    <script src="/docs/js/tooltip.js"></script>
    <script src="/docs/js/scroll-top.js"></script>
    <script src="/docs/js/tobii.min.js"></script>
    <script>
      const tobii = new Tobii();
    </script>
</body>
</html>
    